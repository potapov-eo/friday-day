(this["webpackJsonpfriday-day"]=this["webpackJsonpfriday-day"]||[]).push([[0],{19:function(e,t,r){e.exports={nav:"nav_nav__1K_HG"}},23:function(e,t,r){e.exports={notification:"ErrorSnackBar_notification__N4HPG",text:"ErrorSnackBar_text__2glv8",close:"ErrorSnackBar_close__1paLn"}},31:function(e,t,r){e.exports={button:"SuperButton_button__1JisP"}},32:function(e,t,r){e.exports={input:"SuperInput_input__1p_BM"}},45:function(e,t,r){e.exports={pre:"Preloader_pre__3-i-h"}},49:function(e,t,r){e.exports={header:"Header_header__P8m-Z"}},57:function(e,t,r){},58:function(e,t,r){},82:function(e,t,r){"use strict";r.r(t);var n=r(1),a=r(0),s=r.n(a),c=r(25),i=r.n(c),o=(r(57),r(58),r(7)),d=r(2),l=r(45),u=r.n(l),j=function(){return Object(n.jsx)("div",{className:u.a.pre,children:Object(n.jsx)("img",{src:"https://media.giphy.com/media/wnYB3vx9t6PXiq1ubB/giphy.gif",style:{height:200}})})},b=r(5),p=function(){return Object(n.jsxs)("div",{className:"App",children:[Object(n.jsx)("div",{children:"404"}),Object(n.jsx)("img",{src:"https://programmist1s.ru/wp-content/uploads/2013/09/Pole-ob'ekta-nedostupno-dlya-zapisi-1S.jpg",alt:"404"}),Object(n.jsx)("div",{children:"Page not found!"})]})},O=r(4),h=r(51),m=r(31),v=r.n(m),x=function(e){var t=e.name,r=void 0===t?"push":t,a=Object(h.a)(e,["name"]);return Object(n.jsxs)("button",Object(O.a)(Object(O.a)({className:v.a.button},a),{},{children:[r," "]}))},f=r(32),w=r.n(f),g=function(e){var t=Object.assign({},e);return Object(n.jsx)("input",Object(O.a)(Object(O.a)({},t),{},{className:w.a.input}))},S=r(14),E=r.n(S),P=r(22),R=r(46),y=r.n(R).a.create({baseURL:"https://neko-back.herokuapp.com/2.0",withCredentials:!0}),I=function(){return y.post("auth/me")},A=function(e,t,r){return y.post("auth/login",{email:e,password:t,rememberMe:r})},C=function(){return y.delete("auth/me")},_=function(e){return y.post("/auth/register",e)},k=function(e){return y.post("/auth/forgot",e)},N=function(e){return y.post("/auth/set-new-password",e)},T={status:"succeeded",error:null,UserData:{_id:null,email:null,name:null,avatar:null,publicCardPacksCount:null,created:null,updated:null,isAdmin:!1,verified:!1,rememberMe:!1},isLoggedIn:!1},L=function(e){return{type:"APP/SET-STATUS",status:e}},G=function(e){return{type:"APP/SET-ERROR",error:e}},D={},F=function(e,t,r,n,a,s,c,i,o,d){return{type:"SET_USER_DATA",data:{_id:e,email:t,name:r,avatar:n,publicCardPacksCount:a,created:s,updated:c,isAdmin:i,verified:o,rememberMe:d}}},M=function(e){return{type:"SET_ISLOGGEDIN",value:e}},W=function(){return function(){var e=Object(P.a)(E.a.mark((function e(t){var r,n,a,s,c,i,o,d,l,u,j,b,p;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t(L("loading")),e.next=4,I();case 4:r=e.sent,n=r.data,a=n._id,s=n.email,c=n.name,i=n.avatar,o=n.publicCardPacksCount,d=n.created,l=n.updated,u=n.isAdmin,j=n.verified,b=n.rememberMe,t(F(a,s,c,i,o,d,l,u,j,b)),t(L("succeeded")),t(M(!0)),e.next=16;break;case 11:e.prev=11,e.t0=e.catch(0),t(L("failed")),p=e.t0.response?e.t0.response.data.error:e.t0.message+", more details in the console",t(G(p));case 16:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(t){return e.apply(this,arguments)}}()},B=function(){var e=Object(d.b)(),t=Object(d.c)((function(e){return e.app.isLoggedIn}));return Object(a.useEffect)((function(){t||e(W())}),[t]),Object(n.jsxs)("div",{className:"App",children:[Object(n.jsx)(x,{}),Object(n.jsx)(x,{name:"xxx"}),Object(n.jsx)(g,{type:"text"}),Object(n.jsx)(p,{})]})},U=r(17),V=function(){var e=Object(d.c)((function(e){return e.app.status})),t=Object(d.c)((function(e){return e.app.isLoggedIn})),r=Object(d.b)(),a="loading"===e,s=Object(U.a)({initialValues:{email:"nya-admin@nya.nya",password:"1qazxcvBG",rememberMe:!1},validate:function(e){var t={};return e.email?/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,4}$/i.test(e.email)||(t.email="Invalid email address"):t.email="Required",e.password||(t.password="Required"),t},onSubmit:function(e){var t,n,a,c=(t=e.email,n=e.password,a=e.rememberMe,function(){var e=Object(P.a)(E.a.mark((function e(r){var s,c,i,o,d,l,u,j,b,p,O,h,m;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,r(L("loading")),e.next=4,A(t,n,a);case 4:s=e.sent,c=s.data,i=c._id,o=c.email,d=c.name,l=c.avatar,u=c.publicCardPacksCount,j=c.created,b=c.updated,p=c.isAdmin,O=c.verified,h=c.rememberMe,r(F(i,o,d,l,u,j,b,p,O,h)),r(M(!0)),r(L("succeeded")),r(G(null)),e.next=17;break;case 12:e.prev=12,e.t0=e.catch(0),r(L("failed")),m=e.t0.response?e.t0.response.data.error:e.t0.message+", more details in the console",r(G(m));case 17:case"end":return e.stop()}}),e,null,[[0,12]])})));return function(t){return e.apply(this,arguments)}}());r(c),s.resetForm()}});return t?(r(G("you are already logged in")),Object(n.jsx)(b.a,{to:K.PROFILE})):Object(n.jsxs)("div",{className:"App",children:["LOGIN",Object(n.jsxs)("form",{onSubmit:s.handleSubmit,children:[Object(n.jsx)("div",{children:Object(n.jsx)(g,{name:"email",onChange:s.handleChange,onBlur:s.handleBlur,type:"text",value:s.values.email,placeholder:"Email"})}),s.touched.email&&s.errors.email?Object(n.jsxs)("div",{style:{color:"red"},children:[" ",s.errors.email," "]}):null,Object(n.jsx)("div",{children:Object(n.jsx)(g,{name:"password",onChange:s.handleChange,onBlur:s.handleBlur,type:"password",value:s.values.password,placeholder:"Password"})}),s.touched.password&&s.errors.password?Object(n.jsxs)("div",{style:{color:"red"},children:[" ",s.errors.password," "]}):null,Object(n.jsxs)("div",{children:[Object(n.jsx)("span",{children:"Remember me "}),Object(n.jsx)(g,{name:"rememberMe",onChange:s.handleChange,checked:s.values.rememberMe,type:"checkbox"})]}),Object(n.jsx)("div",{children:Object(n.jsx)(x,{disabled:a,name:"login"})})]})]})},Z={isRegister:!1},q=function(){var e=Object(d.b)(),t=Object(d.c)((function(e){return e.app.status})),r=Object(d.c)((function(e){return e.app.isLoggedIn})),a=Object(d.c)((function(e){return e.register.isRegister})),s="loading"===t,c=Object(U.a)({initialValues:{email:"potapov.eo@yandex.ru",password:"jekajeka",password2:"jekajeka"},validate:function(e){var t={};return e.email?/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,4}$/i.test(e.email)||(t.email="Invalid email address"):t.email="email Required",e.password?e.password.length<7?t.password="Invalid email address":e.password2!==e.password&&(t.password="Passwords do not match"):t.password="password Required",t},onSubmit:function(t){var r;e((r={email:t.email,password:t.password},function(){var e=Object(P.a)(E.a.mark((function e(t){var n;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t(L("loading")),e.next=4,_(r);case 4:t({type:"SET-IS-REGISTER",value:!0}),t(L("succeeded")),t(G(null)),e.next=14;break;case 9:e.prev=9,e.t0=e.catch(0),t(L("failed")),n=e.t0.response?e.t0.response.data.error:e.t0.message+", more details in the console",t(G(n));case 14:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t){return e.apply(this,arguments)}}())),c.resetForm()}});return r?(e(G("you are already logged in")),Object(n.jsx)(b.a,{to:K.PROFILE})):a?Object(n.jsx)(b.a,{to:K.LOGIN}):Object(n.jsx)("div",{className:"App",children:Object(n.jsxs)("form",{onSubmit:c.handleSubmit,children:["REGISTRATION",Object(n.jsxs)("div",{children:[Object(n.jsx)(g,{placeholder:"email",type:"email",name:"email",onChange:c.handleChange,value:c.values.email}),c.touched.email&&c.errors.email?Object(n.jsx)("div",{style:{color:"red"},children:c.errors.email}):null]}),Object(n.jsx)("div",{children:Object(n.jsx)(g,{placeholder:"password",type:"password",name:"password",onChange:c.handleChange,value:c.values.password})}),Object(n.jsxs)("div",{children:[Object(n.jsx)(g,{placeholder:"password2",type:"password",name:"password2",onChange:c.handleChange,value:c.values.password2}),c.touched.password&&c.errors.password?Object(n.jsx)("div",{style:{color:"red"},children:c.errors.password}):null]}),Object(n.jsx)(x,{disabled:s,type:"submit"})]})})},Y={registeredEmail:!1},$=function(){var e=Object(d.b)(),t=Object(d.c)((function(e){return e.app.status})),r=Object(d.c)((function(e){return e.recoveryPassword.registeredEmail})),a="loading"===t,s=Object(U.a)({initialValues:{email:"",from:"test-front-admin <ai73a@yandex.by>",message:"<div>password recovery link:<a href='http://localhost:3000/#/new-password/$token$'>link</a></div>"},validate:function(e){var t={};return e.email?/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,4}$/i.test(e.email)||(t.email="Invalid email address"):t.email="Required",t},onSubmit:function(t){var r;e((r={email:t.email,from:t.from,message:t.message},function(e){return e(L("loading")),k(r).then((function(t){t.data.success&&e({type:"VERIFICATION-EMAIL",value:!0}),e(L("succeeded"))})).catch((function(t){e(L("failed"));var r=t.response?t.response.data.error:t.message+", more details in the console";e(G(r))}))})),s.resetForm()}});Object(b.g)().token;return r?Object(n.jsxs)("div",{children:[Object(n.jsx)("div",{children:"Success!"}),Object(n.jsx)("div",{children:"Click the link in the message in your email"})]}):Object(n.jsx)("div",{className:"App",children:Object(n.jsxs)("form",{onSubmit:s.handleSubmit,children:["RecoveryPassword",Object(n.jsxs)("div",{children:[Object(n.jsx)(g,{placeholder:"email",type:"email",name:"email",onChange:s.handleChange,value:s.values.email}),s.touched.email&&s.errors.email?Object(n.jsx)("div",{style:{color:"red"},children:s.errors.email}):null]}),Object(n.jsx)(x,{disabled:a,type:"submit",name:"Send"})]})})},H=function(){var e=Object(d.b)(),t=Object(d.c)((function(e){return e.app.isLoggedIn})),r=Object(d.c)((function(e){return e.app.UserData}));return Object(a.useEffect)((function(){t||e(W())}),[t]),t?Object(n.jsxs)("div",{className:"App",children:["PROFILE",Object(n.jsx)("div",{children:"User Name : ".concat(r.name)}),Object(n.jsx)("div",{children:"User email : ".concat(r.email)}),Object(n.jsx)("div",{children:"User id : ".concat(r._id)}),Object(n.jsx)("div",{children:"public Card Packs Count : ".concat(r.publicCardPacksCount)}),Object(n.jsx)("div",{children:"avatar : ".concat(r.avatar)})]}):Object(n.jsx)(b.a,{to:K.LOGIN})},J={newPassword:""},z=function(e){return{type:"APP/SET-PASSWORD",newPassword:e}},X=function(){var e=Object(d.b)(),t=Object(d.c)((function(e){return e.app.status})),r=(Object(d.c)((function(e){return e.recoveryPassword.registeredEmail})),Object(d.c)((function(e){return e.newPassword.newPassword}))),a=Object(b.g)().token,s="loading"===t,c=Object(U.a)({initialValues:{password:"",password2:"",resetPasswordToken:a},validate:function(e){var t={};return e.password?e.password.length<7?t.password="length of passwords should be 7 and more simbols":e.password2!==e.password&&(t.password="Passwords do not match"):t.password="password Required",t},onSubmit:function(t){var r;e((r={password:t.password,resetPasswordToken:t.resetPasswordToken},function(e){return e(L("loading")),N(r).then((function(t){e(z(r.password)),e(L("succeeded"))}))})),c.resetForm()}});return r?Object(n.jsx)(b.a,{to:K.LOGIN}):Object(n.jsx)("div",{className:"App",children:Object(n.jsxs)("form",{onSubmit:c.handleSubmit,children:["NewPassword",Object(n.jsxs)("div",{children:[Object(n.jsx)(g,{placeholder:"password",type:"password",name:"password",onChange:c.handleChange,value:c.values.password}),c.touched.password&&c.errors.password?Object(n.jsx)("div",{style:{color:"red"},children:c.errors.password}):null]}),Object(n.jsxs)("div",{children:[Object(n.jsx)(g,{placeholder:"confirm password",type:"password",name:"password2",onChange:c.handleChange,value:c.values.password2}),c.touched.password2&&c.errors.password2?Object(n.jsx)("div",{style:{color:"red"},children:c.errors.password2}):null]}),Object(n.jsx)(x,{disabled:s,type:"submit",name:"Send"})]})})},K={HOME:"/home",TEST:"/test",LOGIN:"/login",REGISTER:"/register",RECOVERY_PASSWORD:"/recovery-password",NEW_PASSWORD:"/new-password",PROFILE:"/profile"},Q=function(){return Object(n.jsx)("div",{children:Object(n.jsxs)(b.d,{children:[Object(n.jsx)(b.b,{path:"/",exact:!0,render:function(){return Object(n.jsx)(b.a,{to:K.PROFILE})}}),Object(n.jsx)(b.b,{path:K.TEST,render:function(){return Object(n.jsx)(B,{})}}),Object(n.jsx)(b.b,{path:K.LOGIN,render:function(){return Object(n.jsx)(V,{})}}),Object(n.jsx)(b.b,{path:K.REGISTER,render:function(){return Object(n.jsx)(q,{})}}),Object(n.jsx)(b.b,{path:K.RECOVERY_PASSWORD,render:function(){return Object(n.jsx)($,{})}}),Object(n.jsx)(b.b,{path:"".concat(K.NEW_PASSWORD,"/:token"),render:function(){return Object(n.jsx)(X,{})}}),Object(n.jsx)(b.b,{path:K.NEW_PASSWORD,exact:!0,render:function(){return Object(n.jsx)($,{})}}),Object(n.jsx)(b.b,{path:K.PROFILE,render:function(){return Object(n.jsx)(H,{})}}),Object(n.jsx)(b.b,{render:function(){return Object(n.jsx)(p,{})}})]})})},ee=r(23),te=r.n(ee),re=function(e){var t=Object(d.b)();return Object(n.jsxs)("div",{className:te.a.notification,children:[Object(n.jsxs)("div",{className:te.a.text,children:[" ",e.errorMessage," "]}),Object(n.jsx)("div",{className:"".concat(te.a.close),children:Object(n.jsx)("div",{className:te.a.text,onClick:function(){return t(G(null))},children:"X"})})]})},ne=r(49),ae=r.n(ne),se=r(19),ce=r.n(se),ie=function(){return Object(n.jsxs)("div",{className:ce.a.nav,children:[Object(n.jsx)("span",{children:Object(n.jsx)(o.b,{to:K.TEST,activeClassName:ce.a.activeLink,children:"TEST"})}),Object(n.jsx)("span",{children:Object(n.jsx)(o.b,{to:K.LOGIN,activeClassName:ce.a.activeLink,children:"LOGIN"})}),Object(n.jsx)("span",{children:Object(n.jsx)(o.b,{to:K.REGISTER,activeClassName:ce.a.activeLink,children:"REGISTER"})}),Object(n.jsx)("span",{children:Object(n.jsx)(o.b,{to:K.RECOVERY_PASSWORD,activeClassName:ce.a.activeLink,children:"RECOVERY_PASSWORD"})}),Object(n.jsx)("span",{children:Object(n.jsx)(o.b,{to:K.NEW_PASSWORD,activeClassName:ce.a.activeLink,children:"NEW_PASSWORD"})}),Object(n.jsx)("span",{children:Object(n.jsx)(o.b,{to:K.PROFILE,activeClassName:ce.a.activeLink,children:"PROFILE"})})]})},oe=function(){var e=Object(d.b)(),t=Object(d.c)((function(e){return e.app.UserData.name})),r=Object(d.c)((function(e){return e.app.isLoggedIn}));return Object(n.jsxs)("div",{className:ae.a.header,children:[Object(n.jsx)(ie,{}),r&&Object(n.jsx)(x,{onClick:function(){var t=function(){var e=Object(P.a)(E.a.mark((function e(t){var r;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t(L("loading")),e.next=4,C();case 4:t(L("succeeded")),t(M(!1)),t(F(null,null,null,null,null,null,null,!1,!1,!1)),t(G(null)),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(0),r=e.t0.response?e.t0.response.data.error:e.t0.message+", more details in the console",t(G(r));case 14:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t){return e.apply(this,arguments)}}();e(t)},name:"logout"}),r&&Object(n.jsxs)("div",{style:{margin:"10px",color:"red"},children:[" YOUR NAME : ",t," "]})]})};var de=function(){var e=Object(d.c)((function(e){return e.app.status})),t=Object(d.c)((function(e){return e.app.error}));return Object(n.jsx)("div",{children:Object(n.jsxs)(o.a,{children:[Object(n.jsx)(oe,{}),"loading"===e&&Object(n.jsx)(j,{}),Object(n.jsx)(Q,{}),t&&Object(n.jsx)(re,{errorMessage:t})]})})},le=function(e){e&&e instanceof Function&&r.e(3).then(r.bind(null,83)).then((function(t){var r=t.getCLS,n=t.getFID,a=t.getFCP,s=t.getLCP,c=t.getTTFB;r(e),n(e),a(e),s(e),c(e)}))},ue=r(21),je=r(50),be=Object(ue.c)({login:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:D,t=arguments.length>1?arguments[1]:void 0;return t.type,e},register:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Z,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET-IS-REGISTER":return Object(O.a)(Object(O.a)({},e),{},{isRegister:t.value});default:return e}},recoveryPassword:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Y,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"VERIFICATION-EMAIL":return Object(O.a)(Object(O.a)({},e),{},{registeredEmail:t.value});default:return e}},newPassword:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:J,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"APP/SET-PASSWORD":return Object(O.a)(Object(O.a)({},e),{},{newPassword:t.newPassword});default:return e}},app:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:T,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"APP/SET-STATUS":return Object(O.a)(Object(O.a)({},e),{},{status:t.status});case"APP/SET-ERROR":return Object(O.a)(Object(O.a)({},e),{},{error:t.error});case"SET_USER_DATA":return Object(O.a)(Object(O.a)({},e),{},{UserData:t.data});case"SET_ISLOGGEDIN":return Object(O.a)(Object(O.a)({},e),{},{isLoggedIn:t.value});default:return e}}}),pe=Object(ue.d)(be,Object(ue.a)(je.a));window.store=pe,i.a.render(Object(n.jsx)(s.a.StrictMode,{children:Object(n.jsx)(d.a,{store:pe,children:Object(n.jsx)(de,{})})}),document.getElementById("root")),le()}},[[82,1,2]]]);
//# sourceMappingURL=main.a7cd0866.chunk.js.map