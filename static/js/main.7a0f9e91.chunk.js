(this["webpackJsonpfriday-day"]=this["webpackJsonpfriday-day"]||[]).push([[0],{18:function(e,t,n){e.exports={nav:"nav_nav__1K_HG"}},22:function(e,t,n){e.exports={notification:"ErrorSnackBar_notification__N4HPG",text:"ErrorSnackBar_text__2glv8",close:"ErrorSnackBar_close__1paLn"}},31:function(e,t,n){e.exports={button:"SuperButton_button__1JisP"}},32:function(e,t,n){e.exports={input:"SuperInput_input__1p_BM"}},45:function(e,t,n){e.exports={pre:"Preloader_pre__3-i-h"}},49:function(e,t,n){e.exports={header:"Header_header__P8m-Z"}},57:function(e,t,n){},58:function(e,t,n){},82:function(e,t,n){"use strict";n.r(t);var r=n(1),a=n(0),s=n.n(a),c=n(24),i=n.n(c),o=(n(57),n(58),n(9)),d=n(3),l=n(45),u=n.n(l),j=function(){return Object(r.jsx)("div",{className:u.a.pre,children:Object(r.jsx)("img",{src:"https://media.giphy.com/media/wnYB3vx9t6PXiq1ubB/giphy.gif",style:{height:200}})})},b=n(4),p=function(){return Object(r.jsxs)("div",{className:"App",children:[Object(r.jsx)("div",{children:"404"}),Object(r.jsx)("img",{src:"https://programmist1s.ru/wp-content/uploads/2013/09/Pole-ob'ekta-nedostupno-dlya-zapisi-1S.jpg",alt:"404"}),Object(r.jsx)("div",{children:"Page not found!"})]})},O=n(6),h=n(51),m=n(31),v=n.n(m),x=function(e){var t=e.name,n=void 0===t?"push":t,a=Object(h.a)(e,["name"]);return Object(r.jsxs)("button",Object(O.a)(Object(O.a)({className:v.a.button},a),{},{children:[n," "]}))},f=n(32),g=n.n(f),w=function(e){var t=Object.assign({},e);return Object(r.jsx)("input",Object(O.a)(Object(O.a)({},t),{},{className:g.a.input}))},E=n(14),S=n.n(E),R=n(21),_=n(46),y=n.n(_).a.create({baseURL:"http://localhost:7542/2.0",withCredentials:!0}),P=function(){return y.post("auth/me")},I=function(e,t,n){return y.post("auth/login",{email:e,password:t,rememberMe:n})},C=function(){return y.delete("auth/me")},N=function(e){return y.post("/auth/register",e)},A={status:"succeeded",error:null,UserData:{_id:null,email:null,name:null,avatar:null,publicCardPacksCount:null,created:null,updated:null,isAdmin:!1,verified:!1,rememberMe:!1},isLoggedIn:!1},T=function(e){return{type:"APP/SET-STATUS",status:e}},k=function(e){return{type:"APP/SET-ERROR",error:e}},L={},G=function(e,t,n,r,a,s,c,i,o,d){return{type:"SET_USER_DATA",data:{_id:e,email:t,name:n,avatar:r,publicCardPacksCount:a,created:s,updated:c,isAdmin:i,verified:o,rememberMe:d}}},D=function(e){return{type:"SET_ISLOGGEDIN",value:e}},M=function(){return function(){var e=Object(R.a)(S.a.mark((function e(t){var n,r,a,s,c,i,o,d,l,u,j,b,p;return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t(T("loading")),e.next=4,P();case 4:n=e.sent,r=n.data,a=r._id,s=r.email,c=r.name,i=r.avatar,o=r.publicCardPacksCount,d=r.created,l=r.updated,u=r.isAdmin,j=r.verified,b=r.rememberMe,t(G(a,s,c,i,o,d,l,u,j,b)),t(T("succeeded")),t(D(!0)),e.next=16;break;case 11:e.prev=11,e.t0=e.catch(0),t(T("failed")),p=e.t0.response?e.t0.response.data.error:e.t0.message+", more details in the console",t(k(p));case 16:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(t){return e.apply(this,arguments)}}()},B=function(){var e=Object(d.b)(),t=Object(d.c)((function(e){return e.app.isLoggedIn}));return Object(a.useEffect)((function(){t||e(M())}),[t]),Object(r.jsxs)("div",{className:"App",children:[Object(r.jsx)(x,{}),Object(r.jsx)(x,{name:"xxx"}),Object(r.jsx)(w,{type:"text"}),Object(r.jsx)(p,{})]})},F=n(28),U=function(){var e=Object(d.c)((function(e){return e.app.status})),t=Object(d.c)((function(e){return e.app.isLoggedIn})),n=Object(d.b)(),a="loading"===e,s=Object(F.a)({initialValues:{email:"nya-admin@nya.nya",password:"1qazxcvBG",rememberMe:!1},validate:function(e){var t={};return e.email?/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,4}$/i.test(e.email)||(t.email="Invalid email address"):t.email="Required",e.password||(t.password="Required"),t},onSubmit:function(e){var t,r,a,c=(t=e.email,r=e.password,a=e.rememberMe,function(){var e=Object(R.a)(S.a.mark((function e(n){var s,c,i,o,d,l,u,j,b,p,O,h,m;return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n(T("loading")),e.next=4,I(t,r,a);case 4:s=e.sent,c=s.data,i=c._id,o=c.email,d=c.name,l=c.avatar,u=c.publicCardPacksCount,j=c.created,b=c.updated,p=c.isAdmin,O=c.verified,h=c.rememberMe,n(G(i,o,d,l,u,j,b,p,O,h)),n(D(!0)),n(T("succeeded")),n(k(null)),e.next=17;break;case 12:e.prev=12,e.t0=e.catch(0),n(T("failed")),m=e.t0.response?e.t0.response.data.error:e.t0.message+", more details in the console",n(k(m));case 17:case"end":return e.stop()}}),e,null,[[0,12]])})));return function(t){return e.apply(this,arguments)}}());n(c),s.resetForm()}});return t?(n(k("you are already logged in")),Object(r.jsx)(b.a,{to:H.PROFILE})):Object(r.jsxs)("div",{className:"App",children:["LOGIN",Object(r.jsxs)("form",{onSubmit:s.handleSubmit,children:[Object(r.jsx)("div",{children:Object(r.jsx)(w,{name:"email",onChange:s.handleChange,onBlur:s.handleBlur,type:"text",value:s.values.email,placeholder:"Email"})}),s.touched.email&&s.errors.email?Object(r.jsxs)("div",{style:{color:"red"},children:[" ",s.errors.email," "]}):null,Object(r.jsx)("div",{children:Object(r.jsx)(w,{name:"password",onChange:s.handleChange,onBlur:s.handleBlur,type:"password",value:s.values.password,placeholder:"Password"})}),s.touched.password&&s.errors.password?Object(r.jsxs)("div",{style:{color:"red"},children:[" ",s.errors.password," "]}):null,Object(r.jsxs)("div",{children:[Object(r.jsx)("span",{children:"Remember me "}),Object(r.jsx)(w,{name:"rememberMe",onChange:s.handleChange,checked:s.values.rememberMe,type:"checkbox"})]}),Object(r.jsx)("div",{children:Object(r.jsx)(x,{disabled:a,name:"login"})})]})]})},W={isRegister:!1},Z=function(){var e=Object(d.b)(),t=Object(d.c)((function(e){return e.app.status})),n=Object(d.c)((function(e){return e.app.isLoggedIn})),a=Object(d.c)((function(e){return e.register.isRegister})),s="loading"===t,c=Object(F.a)({initialValues:{email:"potapov.eo@yandex.ru",password:"jekajeka",password2:"jekajeka"},validate:function(e){var t={};return e.email?/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,4}$/i.test(e.email)||(t.email="Invalid email address"):t.email="email Required",e.password?e.password.length<7?t.password="Invalid email address":e.password2!==e.password&&(t.password="Passwords do not match"):t.password="password Required",t},onSubmit:function(t){var n;e((n={email:t.email,password:t.password},function(){var e=Object(R.a)(S.a.mark((function e(t){var r;return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t(T("loading")),e.next=4,N(n);case 4:t({type:"SET-IS-REGISTER",value:!0}),t(T("succeeded")),t(k(null)),e.next=14;break;case 9:e.prev=9,e.t0=e.catch(0),t(T("failed")),r=e.t0.response?e.t0.response.data.error:e.t0.message+", more details in the console",t(k(r));case 14:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t){return e.apply(this,arguments)}}())),c.resetForm()}});return n?(e(k("you are already logged in")),Object(r.jsx)(b.a,{to:H.PROFILE})):a?Object(r.jsx)(b.a,{to:H.LOGIN}):Object(r.jsx)("div",{className:"App",children:Object(r.jsxs)("form",{onSubmit:c.handleSubmit,children:["REGISTRATION",Object(r.jsxs)("div",{children:[Object(r.jsx)(w,{placeholder:"email",type:"email",name:"email",onChange:c.handleChange,value:c.values.email}),c.touched.email&&c.errors.email?Object(r.jsx)("div",{style:{color:"red"},children:c.errors.email}):null]}),Object(r.jsx)("div",{children:Object(r.jsx)(w,{placeholder:"password",type:"password",name:"password",onChange:c.handleChange,value:c.values.password})}),Object(r.jsxs)("div",{children:[Object(r.jsx)(w,{placeholder:"password2",type:"password",name:"password2",onChange:c.handleChange,value:c.values.password2}),c.touched.password&&c.errors.password?Object(r.jsx)("div",{style:{color:"red"},children:c.errors.password}):null]}),Object(r.jsx)(x,{disabled:s,type:"submit"})]})})},q=function(){return Object(r.jsx)("div",{className:"App",children:"RecoveryPassword"})},V=function(){return Object(r.jsx)("div",{className:"App",children:"NewPassword"})},Y=function(){var e=Object(d.b)(),t=Object(d.c)((function(e){return e.app.isLoggedIn})),n=Object(d.c)((function(e){return e.app.UserData}));return Object(a.useEffect)((function(){t||e(M())}),[t]),t?Object(r.jsxs)("div",{className:"App",children:["PROFILE",Object(r.jsx)("div",{children:"User Name : ".concat(n.name)}),Object(r.jsx)("div",{children:"User email : ".concat(n.email)}),Object(r.jsx)("div",{children:"User id : ".concat(n._id)}),Object(r.jsx)("div",{children:"public Card Packs Count : ".concat(n.publicCardPacksCount)}),Object(r.jsx)("div",{children:"avatar : ".concat(n.avatar)})]}):Object(r.jsx)(b.a,{to:H.LOGIN})},H={HOME:"/home",TEST:"/test",LOGIN:"/login",REGISTER:"/register",RECOVERY_PASSWORD:"/recovery-password",NEW_PASSWORD:"/new-password",PROFILE:"/profile"},J=function(){return Object(r.jsx)("div",{children:Object(r.jsxs)(b.d,{children:[Object(r.jsx)(b.b,{path:"/",exact:!0,render:function(){return Object(r.jsx)(b.a,{to:H.PROFILE})}}),Object(r.jsx)(b.b,{path:H.TEST,render:function(){return Object(r.jsx)(B,{})}}),Object(r.jsx)(b.b,{path:H.LOGIN,render:function(){return Object(r.jsx)(U,{})}}),Object(r.jsx)(b.b,{path:H.REGISTER,render:function(){return Object(r.jsx)(Z,{})}}),Object(r.jsx)(b.b,{path:H.RECOVERY_PASSWORD,render:function(){return Object(r.jsx)(q,{})}}),Object(r.jsx)(b.b,{path:H.NEW_PASSWORD,render:function(){return Object(r.jsx)(V,{})}}),Object(r.jsx)(b.b,{path:H.PROFILE,render:function(){return Object(r.jsx)(Y,{})}}),Object(r.jsx)(b.b,{render:function(){return Object(r.jsx)(p,{})}})]})})},z=n(22),X=n.n(z),$=function(e){var t=Object(d.b)();return Object(r.jsxs)("div",{className:X.a.notification,children:[Object(r.jsxs)("div",{className:X.a.text,children:[" ",e.errorMessage," "]}),Object(r.jsx)("div",{className:"".concat(X.a.close),children:Object(r.jsx)("div",{className:X.a.text,onClick:function(){return t(k(null))},children:"X"})})]})},K=n(49),Q=n.n(K),ee=n(18),te=n.n(ee),ne=function(){return Object(r.jsxs)("div",{className:te.a.nav,children:[Object(r.jsx)("span",{children:Object(r.jsx)(o.b,{to:H.TEST,activeClassName:te.a.activeLink,children:"TEST"})}),Object(r.jsx)("span",{children:Object(r.jsx)(o.b,{to:H.LOGIN,activeClassName:te.a.activeLink,children:"LOGIN"})}),Object(r.jsx)("span",{children:Object(r.jsx)(o.b,{to:H.REGISTER,activeClassName:te.a.activeLink,children:"REGISTER"})}),Object(r.jsx)("span",{children:Object(r.jsx)(o.b,{to:H.RECOVERY_PASSWORD,activeClassName:te.a.activeLink,children:"RECOVERY_PASSWORD"})}),Object(r.jsx)("span",{children:Object(r.jsx)(o.b,{to:H.NEW_PASSWORD,activeClassName:te.a.activeLink,children:"NEW_PASSWORD"})}),Object(r.jsx)("span",{children:Object(r.jsx)(o.b,{to:H.PROFILE,activeClassName:te.a.activeLink,children:"PROFILE"})})]})},re=function(){var e=Object(d.b)(),t=Object(d.c)((function(e){return e.app.UserData.name})),n=Object(d.c)((function(e){return e.app.isLoggedIn}));return Object(r.jsxs)("div",{className:Q.a.header,children:[Object(r.jsx)(ne,{}),n&&Object(r.jsx)(x,{onClick:function(){var t=function(){var e=Object(R.a)(S.a.mark((function e(t){var n;return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t(T("loading")),e.next=4,C();case 4:t(T("succeeded")),t(D(!1)),t(G(null,null,null,null,null,null,null,!1,!1,!1)),t(k(null)),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(0),n=e.t0.response?e.t0.response.data.error:e.t0.message+", more details in the console",t(k(n));case 14:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t){return e.apply(this,arguments)}}();e(t)},name:"logout"}),n&&Object(r.jsxs)("div",{style:{margin:"10px",color:"red"},children:[" YOUR NAME : ",t," "]})]})};var ae=function(){var e=Object(d.c)((function(e){return e.app.status})),t=Object(d.c)((function(e){return e.app.error}));return Object(r.jsx)("div",{children:Object(r.jsxs)(o.a,{children:[Object(r.jsx)(re,{}),"loading"===e&&Object(r.jsx)(j,{}),Object(r.jsx)(J,{}),t&&Object(r.jsx)($,{errorMessage:t})]})})},se=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,83)).then((function(t){var n=t.getCLS,r=t.getFID,a=t.getFCP,s=t.getLCP,c=t.getTTFB;n(e),r(e),a(e),s(e),c(e)}))},ce=n(20),ie=n(50),oe={},de={},le=Object(ce.c)({login:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:L,t=arguments.length>1?arguments[1]:void 0;return t.type,e},register:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:W,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET-IS-REGISTER":return Object(O.a)(Object(O.a)({},e),{},{isRegister:t.value});default:return e}},recoveryPassword:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:oe,t=arguments.length>1?arguments[1]:void 0;switch(t){case"SOME_ACTION":default:return e}},newPassword:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:de,t=arguments.length>1?arguments[1]:void 0;switch(t){case"SOME_ACTION":default:return e}},app:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:A,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"APP/SET-STATUS":return Object(O.a)(Object(O.a)({},e),{},{status:t.status});case"APP/SET-ERROR":return Object(O.a)(Object(O.a)({},e),{},{error:t.error});case"SET_USER_DATA":return Object(O.a)(Object(O.a)({},e),{},{UserData:t.data});case"SET_ISLOGGEDIN":return Object(O.a)(Object(O.a)({},e),{},{isLoggedIn:t.value});default:return e}}}),ue=Object(ce.d)(le,Object(ce.a)(ie.a));window.store=ue,i.a.render(Object(r.jsx)(s.a.StrictMode,{children:Object(r.jsx)(d.a,{store:ue,children:Object(r.jsx)(ae,{})})}),document.getElementById("root")),se()}},[[82,1,2]]]);
//# sourceMappingURL=main.7a0f9e91.chunk.js.map