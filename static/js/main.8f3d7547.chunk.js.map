{"version":3,"sources":["n2-features/f5-packs/pack/headings/Headings.module.css","n1-main/m1-ui/header/authorizedNav/AuthorizedNav.module.css","n1-main/m1-ui/common/Modal/Modal.module.css","n2-features/f6-learn/Learn.module.css","n2-features/f2-profile/Profile.module.css","n1-main/m1-ui/common/Paginator/Paginator.module.css","n1-main/m1-ui/common/ErrorSnackBar/ErrorSnackBar.module.css","n1-main/m1-ui/common/SortButtons/SortButtons.module.css","n1-main/m1-ui/header/burgerNav/burgerNav.module.css","n1-main/m1-ui/common/SuperButton/SuperButton.module.css","n1-main/m1-ui/common/SuperInput/SuperInput.module.css","n1-main/m1-ui/header/nav/nav.module.css","n1-main/m1-ui/common/Preloder/Preloader.module.css","n1-main/m1-ui/header/Header.module.css","n2-features/f5-packs/Packs.module.css","n1-main/m1-ui/common/images/Infinity-1s-200px.svg","n1-main/m1-ui/common/Preloder/Preloader.tsx","n2-features/f4-404/Error404.tsx","n1-main/m1-ui/common/SuperButton/SuperButton.tsx","n1-main/m1-ui/common/SuperInput/SuperInput.tsx","n2-features/f0-test/test.tsx","n1-main/m2-bll/app-reduser.ts","n1-main/m3-dal/instance.ts","n2-features/f6-cards/Cards-reducer.ts","n2-features/f5-packs/Packs-reduser.ts","n1-main/m2-bll/common/HelperFunctions.ts","n2-features/f1-auth/auth-reducer.ts","n2-features/f1-auth/a1-login/LoginFormik.tsx","n2-features/f1-auth/a2-register/Register.tsx","n2-features/f1-auth/a3-recoveryPassword/RecoveryPassword.tsx","n2-features/f2-profile/Profile.tsx","n2-features/f1-auth/a4-newPassword/NewPassword.tsx","n1-main/m1-ui/common/Modal/Modal.tsx","n1-main/m1-ui/common/Modal/BooleanModal/BooleanForm.tsx","n1-main/m1-ui/common/Modal/AddForm/AddForm.tsx","n2-features/f5-packs/pack/activeColumnPack/activeColumnPack.tsx","n2-features/f5-packs/pack/Pack.tsx","n1-main/m1-ui/common/Paginator/Paginator.tsx","n1-main/m1-ui/common/SortButtons/SortPackButton.tsx","n2-features/f5-packs/pack/headings/Headings.tsx","n2-features/f5-packs/Packs.tsx","n1-main/m1-ui/common/Modal/AddCardForm/AddCardForm.tsx","n2-features/f6-cards/card/activeColumnCard/activeColumnCard.tsx","n2-features/f6-cards/card/Card.tsx","n1-main/m1-ui/common/SortButtons/SortCardButton.tsx","n2-features/f6-cards/cardsHeading/CardsHeadings.tsx","n2-features/f6-cards/Cards.tsx","n2-features/f6-learn/Learn.tsx","n1-main/m1-ui/routes/Routes.tsx","n1-main/m1-ui/common/ErrorSnackBar/ErrorSnackBar.tsx","n1-main/m1-ui/header/authorizedNav/NotAuthorizedNav.tsx","n1-main/m1-ui/header/authorizedNav/AuthorizedNav.tsx","n1-main/m1-ui/header/nav/nav.tsx","n1-main/m1-ui/header/burgerNav/burgerNav.tsx","n1-main/m1-ui/header/Header.tsx","n1-main/m1-ui/App.tsx","reportWebVitals.ts","n1-main/m2-bll/store.ts","index.tsx"],"names":["module","exports","Preloader","className","style","pre","src","preloader","height","Error404","alt","SuperButton","name","restProps","s","button","SuperInput","input","Test","type","initialState","status","error","UserData","_id","email","avatar","publicCardPacksCount","created","updated","isAdmin","verified","rememberMe","setAppStatusAC","setAppErrorAC","setPublicCardPacksCountAC","instance","axios","create","baseURL","withCredentials","AuthAPI","post","password","delete","RegisterAPI","data","recoveryPasswordAPI","CardsAPI","paginationData","get","params","newPackName","cardsPack","idCarsPack","id","newNamePack","put","paginationCardsData","cardsPack_id","values","card","cardId","question","answer","grade","card_id","cards","paginationCards","page","pageCount","cardAnswer","cardQuestion","min","max","sortCards","totalCardsCount","setCardsAC","setPaginationCardAC","property","setCardGradeAC","getCardTC","dispatch","getState","a","getCards","handleResponseError","cardPacks","pagination","packName","sortPacks","user_id","totalPacksCount","setCardPacksAC","setPaginationAC","setTotalPacksCountAC","packsCount","getCardPacksTC","getData","getCardPacks","response","currentPage","cardPacksTotalCount","setSuccessfulResponseData","setIsLoggedIn","getResponseError","e","message","cardsTotalCount","setResponseData","userData","isLoggedIn","setUserDataAC","packs","recoveryEmail","isRegister","newPassword","recoveryEmailAC","value","logout","Login","useSelector","state","app","auth","useDispatch","disable","formik","useFormik","initialValues","validate","errors","test","onSubmit","mail","remember_Me","thunk","resetForm","to","PATH","PROFILE","handleSubmit","onChange","handleChange","onBlur","handleBlur","placeholder","touched","color","checked","disabled","Register","password2","length","LOGIN","RecoveryPassword","registeredEmail","from","onClick","Profile","profile","profileContainer","info","NewPassword","token","useParams","resetPasswordToken","Modal","props","activeModal","modal","modalActive","setActiveModal","modalContant","modalContantactive","stopPropagation","children","BooleanForm","React","memo","push","addItemTitle","AddForm","addItem","text","itemName","buttonName","ActiveColumnPack","registerUserId","pack","isMyPack","tableString","setActiveDelPackModal","setActiveUpdatePackModal","CARDS","activeClassName","activeLink","LEARN","Pack","useState","activeDelPackModal","activeUpdatePackModal","isActiveColumnPack","setIsActiveColumnPack","cardsCount","nameBtn","slice","ActiveColumnPack3","ActiveColumnPack2","updateTC","isDel","Paginator","pagesCount","Math","ceil","totalItemsCount","pageSize","pages","i","portionCount","portionSize","portionNumber","setPortionNumber","leftPortionPageNumber","rightPortionPageNumber","styles","paginator","filter","p","map","coursor","selectedPage","onPageChanged","SortPackButton","tableSortIcons","param","icon","faSortUp","size","faSortDown","Headings","tableColumnTitle","setActiveAddPackModal","tableColumnTitleHide","Packs","userId","isChange","setIsChange","idTimeout","setIdTimeout","searchName","setSearchName","activeAddPackModal","isMyPackChecked","setIsMyPackChecked","isLoading","setChange","useCallback","clearTimeout","window","setTimeout","useEffect","table","currentTarget","search","pageNumber","addCardPacksTC","AddCardForm","addCard","ActiveColumnCard","additionalColumn","setActiveDelCardModal","setActiveAddCardModal","Card","activeAddCardModal","updateCardTC","SortCardButton","CardsHeadings","Cards","find","notAuthorized","PACK","newNumber","Learn","isChecked","setIsChecked","first","setFirst","setCard","getCard","sum","reduce","acc","rand","random","res","newSum","setGrade","Response","newGrade","updatedGrade","g","HOME","TEST","REGISTER","RECOVERY_PASSWORD","NEW_PASSWORD","Routes","path","exact","render","ErrorSnackBar","notification","errorMessage","close","NotAuthorizedNav","burgerNav","burger","NANav","AuthorizedNav","nav","Nav","UserName","userName","BurgerNav","menuIsOpen","setMenuIsOpen","btnName","positionBtn","Header","header","faDAndD","App","firstRendering","console","log","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","rootReducer","combineReducers","action","newCards","store","createStore","applyMiddleware","thunkMiddleware","ReactDOM","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.8f3d7547.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"table\":\"Headings_table__1x9eD\",\"tableColumnTitle\":\"Headings_tableColumnTitle__1IK45\",\"tableColumnTitleHide\":\"Headings_tableColumnTitleHide__296xO\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"burger\":\"AuthorizedNav_burger__1mkB-\",\"nav\":\"AuthorizedNav_nav__1PyXS\",\"NANav\":\"AuthorizedNav_NANav__3SvMH\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"modal\":\"Modal_modal__3RLL0\",\"modalActive\":\"Modal_modalActive__ZE80p\",\"modalContant\":\"Modal_modalContant__2fq7x\",\"modalContantactive\":\"Modal_modalContantactive__3OTnc\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"page\":\"Learn_page__3ViEZ\",\"cardQuestion\":\"Learn_cardQuestion__2CcQp\",\"cardAnswer\":\"Learn_cardAnswer__1bnwJ\",\"card\":\"Learn_card__1M0YJ\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"profile\":\"Profile_profile__AOdLM\",\"profileContainer\":\"Profile_profileContainer__1GNWh\",\"info\":\"Profile_info__bWyEn\",\"avatar\":\"Profile_avatar__11Ltf\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"paginator\":\"Paginator_paginator__DEW0s\",\"pageNumber\":\"Paginator_pageNumber__tlVzE\",\"selectedPage\":\"Paginator_selectedPage__2ULFC\",\"coursor\":\"Paginator_coursor__2H2t0\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"notification\":\"ErrorSnackBar_notification__N4HPG\",\"text\":\"ErrorSnackBar_text__2glv8\",\"close\":\"ErrorSnackBar_close__1paLn\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"tableSortIcons\":\"SortButtons_tableSortIcons__3gyjZ\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"nav\":\"burgerNav_nav__3FWGE\",\"positionBtn\":\"burgerNav_positionBtn__31w9y\",\"burgerNav\":\"burgerNav_burgerNav__293xP\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"button\":\"SuperButton_button__1JisP\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"input\":\"SuperInput_input__1p_BM\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"nav\":\"nav_nav__1K_HG\",\"userName\":\"nav_userName__mRcAs\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"pre\":\"Preloader_pre__3-i-h\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"header\":\"Header_header__P8m-Z\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"table\":\"Packs_table__2Naa-\",\"tableString\":\"Packs_tableString__mwSXx\",\"search\":\"Packs_search__2cx02\",\"notAuthorized\":\"Packs_notAuthorized__1-_nB\",\"ActiveColumnPack\":\"Packs_ActiveColumnPack__17-2Q\",\"ActiveColumnPack2\":\"Packs_ActiveColumnPack2__2PIaw\",\"ActiveColumnPack3\":\"Packs_ActiveColumnPack3__310A7\"};","export default __webpack_public_path__ + \"static/media/Infinity-1s-200px.2a677e42.svg\";","import React from 'react';\r\nimport style from './Preloader.module.css'\r\nimport preloader from '../images/Infinity-1s-200px.svg'\r\n\r\n\r\nlet Preloader = () => {\r\n    return <div className={style.pre} >\r\n        <img src={preloader}  style={ { height: 200 } }/>\r\n    </div>\r\n}\r\n\r\nexport default Preloader;\r\n","import React from 'react'\n\n\nexport const Error404 = () => {\n    return (\n        <div className=\"App\">\n            <div>404</div>\n            <img src=\"https://programmist1s.ru/wp-content/uploads/2013/09/Pole-ob'ekta-nedostupno-dlya-zapisi-1S.jpg\"\n                 alt=\"404\"/>\n            <div>Page not found!</div>\n        </div>\n    )\n}","import React, {ButtonHTMLAttributes, DetailedHTMLProps} from \"react\";\r\nimport s from \"./SuperButton.module.css\";\r\nimport './SuperButton.module.css'\r\n\r\ntype DefaultButtonPropsType = DetailedHTMLProps<ButtonHTMLAttributes<HTMLButtonElement>, HTMLButtonElement>;\r\n\r\ntype SuperButtonPropsType = DefaultButtonPropsType & {\r\n\r\n    name?: string\r\n\r\n}\r\n\r\nconst SuperButton: React.FC<SuperButtonPropsType> = (\r\n    {\r\n        name = \"push\",\r\n        ...restProps\r\n    }\r\n) => {\r\n\r\n    return (\r\n        <button className={s.button}\r\n                {...restProps}\r\n        >{name} </button>\r\n    );\r\n}\r\n\r\nexport default SuperButton;\r\n","import React, {DetailedHTMLProps, InputHTMLAttributes} from \"react\";\r\nimport s from \"./SuperInput.module.css\";\r\nimport './SuperInput.module.css'\r\n\r\n\r\n// тип пропсов обычной кнопки, children в котором храниться название кнопки там уже описан\r\ntype DefaultButtonPropsType = DetailedHTMLProps<InputHTMLAttributes<HTMLInputElement>, HTMLInputElement>;\r\n\r\ntype SuperButtonPropsType = DefaultButtonPropsType & {\r\n    name?: string\r\n}\r\n\r\nconst SuperInput: React.FC<SuperButtonPropsType> = (\r\n    {\r\n\r\n        ...restProps// все остальные пропсы попадут в объект restProps, там же будет children\r\n    }\r\n) => {\r\n\r\n\r\n    return (\r\n        <input {...restProps} className={s.input}\r\n        />\r\n    );\r\n}\r\n\r\nexport default SuperInput;\r\n","import React from 'react'\r\nimport SuperButton from \"../../n1-main/m1-ui/common/SuperButton/SuperButton\";\r\nimport SuperInput from \"../../n1-main/m1-ui/common/SuperInput/SuperInput\";\r\nimport {Error404} from \"../f4-404/Error404\";\r\n\r\n\r\nexport const Test = () => {\r\n       return (\r\n        <div className=\"App\">\r\n            <SuperButton/>\r\n            <SuperButton name={\"xxx\"}/>\r\n            <SuperInput type=\"text\"/>\r\n            <Error404/>\r\n        </div>\r\n    )\r\n}","export type RequestStatusType = 'idle' | 'loading' | 'succeeded' | 'failed'\r\n\r\nconst initialState: AppInitialStateType = {\r\n    status: 'succeeded',\r\n    error: null,\r\n    UserData: {\r\n        _id: \"\",\r\n        email: null as string | null,\r\n        name: null as string | null,\r\n        avatar: null as string | null,\r\n        publicCardPacksCount: null as number | null,\r\n        created: null as Date | null,\r\n        updated: null as Date | null,\r\n        isAdmin: false,\r\n        verified: false, // подтвердил ли почту\r\n        rememberMe: false,\r\n    }\r\n}\r\n\r\nexport const appReducer = (state: AppInitialStateType = initialState, action: ActionsType): AppInitialStateType => {\r\n    switch (action.type) {\r\n        case 'SET_APP_STATUS':\r\n            return {...state, status: action.status}\r\n        case 'SET_APP_ERROR':\r\n            return {...state, error: action.error}\r\n        case \"SET_USER_DATA\":\r\n            return {...state, UserData: action.userData}\r\n        case \"SET_CARDS_PACK_TOTAL_COUNT\":\r\n            if (state.UserData) {\r\n                return {\r\n                    ...state, UserData: {\r\n                        ...state.UserData, publicCardPacksCount: action.publicCardPacksCount\r\n                    }\r\n                }\r\n            } else return state\r\n\r\n\r\n        default:\r\n            return state\r\n    }\r\n}\r\n\r\nexport const setAppStatusAC = (status: RequestStatusType) =>\r\n    ({type: 'SET_APP_STATUS', status} as const)\r\nexport const setAppErrorAC = (error: string | null) =>\r\n    ({type: 'SET_APP_ERROR', error} as const)\r\nexport const setUserDataAC = (userData: UserDataType) => ({type: 'SET_USER_DATA', userData} as const)\r\nexport const setPublicCardPacksCountAC = (publicCardPacksCount: number | null) =>\r\n    ({type: 'SET_CARDS_PACK_TOTAL_COUNT', publicCardPacksCount} as const)\r\n\r\n\r\n\r\nexport type setAppStatusACType = ReturnType<typeof setAppStatusAC>\r\nexport type setAppErrorACType = ReturnType<typeof setAppErrorAC>\r\nexport type setUserDataACType = ReturnType<typeof setUserDataAC>\r\nexport type setPublicCardPacksCountACType = ReturnType<typeof setPublicCardPacksCountAC>\r\n\r\nexport type UserDataType = {\r\n    _id: string\r\n    email: string | null,\r\n    name: string | null,\r\n    avatar: string | null,\r\n    publicCardPacksCount: number | null,\r\n    created: Date | null,\r\n    updated: Date | null,\r\n    isAdmin: boolean,\r\n    verified: boolean, // подтвердил ли почту\r\n    rememberMe: boolean,\r\n} | null\r\n\r\nexport type AppInitialStateType = {\r\n    error: string | null\r\n    status: RequestStatusType\r\n    UserData: UserDataType\r\n    userId?: string\r\n}\r\n\r\ntype ActionsType =\r\n    setAppStatusACType\r\n    | setAppErrorACType\r\n    | setUserDataACType\r\n    | setPublicCardPacksCountACType\r\n\r\n\r\n\r\n\r\n\r\n\r\n","import axios from \"axios\";\r\nimport {DEV_VERSION} from \"../../config\";\r\nimport {registeredEmailType, RegisterParamsType, SetPasswordType} from \"../../n2-features/f1-auth/auth-reducer\";\r\n\r\nexport const baseURL = !DEV_VERSION\r\n    ? \"http://localhost:7542/2.0\"\r\n    : \"https://neko-back.herokuapp.com/2.0\"\r\nexport const instance = axios.create({baseURL, withCredentials: true})\r\n\r\n\r\nexport const AuthAPI = {\r\n    getAuthMe() {\r\n        return instance.post(`auth/me`,)\r\n    },\r\n    login(email: string, password: string, rememberMe: boolean) {\r\n        return instance.post(`auth/login`, {email, password, rememberMe})\r\n    },\r\n    logout() {\r\n        return instance.delete(`auth/me`)\r\n    }\r\n}\r\n\r\nexport const RegisterAPI = {\r\n    register(data: RegisterParamsType) {\r\n        return instance.post(\"/auth/register\", data)\r\n    }\r\n}\r\n\r\nexport const recoveryPasswordAPI = {\r\n    registeredEmail(data: registeredEmailType) {\r\n        return instance.post('/auth/forgot', data)\r\n    },\r\n    setPassword(data: SetPasswordType) {\r\n        return instance.post('/auth/set-new-password', data)\r\n    }\r\n}\r\n\r\nexport const CardsAPI = {\r\n    getCardPacks(paginationData: any) {\r\n        return instance.get(`cards/pack`, {params: paginationData})\r\n    },\r\n\r\n    createCardsPack(newPackName: string) {\r\n        return instance.post(`cards/pack`, {cardsPack: {name: newPackName}})\r\n    },\r\n    deleteCardsPack(idCarsPack: string) {\r\n        return instance.delete(`cards/pack/?id=${idCarsPack}`)\r\n    },\r\n    updateCardsPack(id: string, newNamePack: string) {\r\n        return instance.put(`cards/pack/`, {cardsPack: {_id: id, name: newNamePack}})\r\n    },\r\n    getCards(paginationCardsData: any) {\r\n        return instance.get(`cards/card/`, {params: paginationCardsData})\r\n    },\r\n    createCard(cardsPack_id: string, values: { question: string, answer: string }) {\r\n        return instance.post(`cards/card`, {\r\n            card:\r\n                {\r\n                    cardsPack_id: cardsPack_id,\r\n                    ...values\r\n                }\r\n        })\r\n    },\r\n    deleteCard(idCarsPack: string) {\r\n        return instance.delete(`cards/card/?id=${idCarsPack}`)\r\n    },\r\n    updateCard(cardId: string, question: string, answer: string) {\r\n        return instance.put(`cards/card`, {\r\n            card: {\r\n                _id: cardId,\r\n                question: question,\r\n                answer: answer\r\n\r\n            }\r\n        })\r\n    },\r\n    gradeCard(grade: number, card_id: string) {\r\n        return instance.put(`cards/grade`,\r\n            {\r\n                grade: grade,\r\n                card_id: card_id\r\n\r\n            }\r\n        )\r\n    },\r\n\r\n}\r\n\r\nexport type getCardPacksDataType = {\r\n    packName?: string\r\n    min?: number\r\n    max?: number\r\n    sortPacks?: string\r\n    page?: number\r\n    pageCount?: number\r\n}\r\n\r\nexport type getCardsDataType = {\r\n    cardAnswer?: string\r\n    cardQuestion?: string\r\n    cardsPack_id: string\r\n    min?: number\r\n    max?: number\r\n    sortCards?: string\r\n    page?: number\r\n    pageCount?: number\r\n\r\n}","import {CardsAPI} from \"../../n1-main/m3-dal/instance\";\r\nimport {Dispatch} from \"redux\";\r\nimport {setAppErrorAC, setAppStatusAC} from \"../../n1-main/m2-bll/app-reduser\";\r\nimport {AxiosResponse} from \"axios\";\r\nimport {AppRootStateType} from \"../../n1-main/m2-bll/store\";\r\nimport {valueType} from \"../../n1-main/m1-ui/common/Modal/AddCardForm/AddCardForm\";\r\nimport {getCards, handleResponseError} from \"../../n1-main/m2-bll/common/HelperFunctions\";\r\n\r\n\r\nconst initialState = {\r\n    cards: [] as Array<CardType>,\r\n    paginationCards: {\r\n        page: 1,\r\n        pageCount: 3,\r\n        cardAnswer: '',\r\n        cardQuestion: '',\r\n        cardsPack_id: '',\r\n        min: 0,\r\n        max: 6,\r\n        sortCards: ''\r\n    },\r\n    totalCardsCount: 0\r\n}\r\n\r\nexport type cardsReducerInitialStateType = typeof initialState\r\n\r\nexport const cardsReducer = (state: cardsReducerInitialStateType = initialState, action: ActionsType): cardsReducerInitialStateType => {\r\n    switch (action.type) {\r\n        case 'SET_CARDS':\r\n            return {...state, cards: action.cards}\r\n        case \"SET_TOTAL_CARDS_COUNT\":\r\n            return {...state, totalCardsCount: action.packsCount}\r\n        case 'SET_PAGINATION_CARD_PROPERTY':\r\n            return {...state, paginationCards: {...state.paginationCards, ...action.property}}\r\n        case 'SET_CARD_GRADE':\r\n            const newCards = state.cards.map((card) => card._id === action.card_id ? {\r\n                ...card,\r\n                grade: action.grade\r\n            } : card)\r\n            return {...state, cards: newCards}\r\n\r\n        default:\r\n            return state\r\n    }\r\n}\r\n\r\n//AC\r\n\r\nexport const setCardsAC = (cards: Array<CardType>) => ({type: 'SET_CARDS', cards} as const)\r\nexport const setTotalCardsCountAC = (packsCount: number) => ({type: \"SET_TOTAL_CARDS_COUNT\", packsCount} as const)\r\nexport const setPaginationCardAC = (property: setPaginationCardType) =>\r\n    ({type: 'SET_PAGINATION_CARD_PROPERTY', property} as const)\r\nexport const setCardGradeAC = (card_id: string, grade: number) => ({type: \"SET_CARD_GRADE\", card_id, grade} as const)\r\n//TC\r\n\r\n\r\nexport const getCardTC = () =>\r\n    async (dispatch: Dispatch, getState: () => AppRootStateType) => {\r\n        try {\r\n            dispatch(setAppStatusAC('loading'))\r\n            await getCards(getState, dispatch)\r\n        } catch (e) {\r\n            handleResponseError(e, dispatch)\r\n        }\r\n    }\r\nexport const addCardTC = (cardsPack_id: string, values: { question: string, answer: string }) =>\r\n    async (dispatch: Dispatch, getState: () => AppRootStateType) => {\r\n        try {\r\n            dispatch(setAppStatusAC('loading'))\r\n           await CardsAPI.createCard(cardsPack_id, values)\r\n            await getCards(getState, dispatch)\r\n\r\n        } catch (e) {\r\n            handleResponseError(e, dispatch)\r\n        }\r\n    }\r\nexport const removeCardTC = (cardsPack_id: string, cardId: string) =>\r\n    async (dispatch: Dispatch, getState: () => AppRootStateType) => {\r\n        try {\r\n            dispatch(setAppStatusAC('loading'))\r\n            await CardsAPI.deleteCard(cardId)\r\n            await getCards(getState, dispatch)\r\n        } catch (e) {\r\n            handleResponseError(e, dispatch)\r\n        }\r\n    }\r\nexport const updateCardTC = (cardId: string, value: valueType) =>\r\n    async (dispatch: Dispatch, getState: () => AppRootStateType) => {\r\n        try {\r\n            dispatch(setAppStatusAC('loading'))\r\n            await CardsAPI.updateCard(cardId, value.question, value.answer)\r\n            await getCards(getState, dispatch)\r\n        } catch (e) {\r\n            handleResponseError(e, dispatch)\r\n        }\r\n    }\r\nexport const gradeCardTC = (grade: number, card_id: string) =>\r\n    async (dispatch: Dispatch) => {\r\n        try {\r\n            dispatch(setAppStatusAC('loading'))\r\n            const Response = <AxiosResponse<any>>await CardsAPI.gradeCard(grade, card_id)\r\n            const newGrade = Response.data.updatedGrade.grade\r\n            dispatch(setCardGradeAC(card_id, newGrade))\r\n            dispatch(setAppStatusAC('succeeded'))\r\n            dispatch(setAppErrorAC(null))\r\n        } catch (e) {\r\n            handleResponseError(e, dispatch)\r\n        }\r\n    }\r\n\r\n\r\ntype ActionsType = ReturnType<typeof setCardsAC>\r\n    | ReturnType<typeof setTotalCardsCountAC>\r\n    | ReturnType<typeof setPaginationCardAC>\r\n    | ReturnType<typeof setCardGradeAC>\r\n\r\nexport type GetCardsResponseType = {\r\n    cards: Array<CardType>\r\n    packUserId: string\r\n    page: number\r\n    pageCount: number\r\n    cardsTotalCount: number\r\n    minGrade: number\r\n    token: string\r\n    tokenDeathTime: Date\r\n}\r\nexport type CardType = {\r\n    _id: string\r\n    cardsPack_id: string\r\n    user_id: string\r\n    answer: string\r\n    question: string\r\n    grade: number\r\n    shots: number\r\n    comments: string\r\n    type: string\r\n    rating: number\r\n    more_id: string\r\n    created: string\r\n    updated: string\r\n    __v: number\r\n    answerImg: string\r\n    questionImg: string\r\n    questionVideo: string\r\n}\r\nexport type setPaginationCardType =\r\n    { page: number }\r\n    | { pageCount: number }\r\n    | { cardAnswer: string }\r\n    | { cardQuestion: string }\r\n    | { cardsPack_id: string }\r\n    | { min: number }\r\n    | { max: number }\r\n    | { sortCards: string }\r\nexport type paginationCardsType = {\r\n    page: number\r\n    pageCount: number,\r\n    cardAnswer: string,\r\n    cardQuestion: string,\r\n    cardsPack_id: string,\r\n    min: number,\r\n    max: number,\r\n    sortCards: string\r\n}\r\n","import {CardsAPI, getCardPacksDataType} from '../../../src/n1-main/m3-dal/instance'\r\nimport {Dispatch} from 'redux'\r\nimport {setAppStatusAC, setPublicCardPacksCountAC} from \"../../n1-main/m2-bll/app-reduser\";\r\nimport {AppRootStateType} from \"../../n1-main/m2-bll/store\";\r\nimport {\r\n    getCardPacks,\r\n    handleResponseError,\r\n    setSuccessfulResponseData\r\n} from \"../../n1-main/m2-bll/common/HelperFunctions\";\r\nimport {setIsLoggedIn} from \"../f1-auth/auth-reducer\";\r\n\r\n\r\nlet initialState = {\r\n    cardPacks: [] as Array<PackType>,\r\n    pagination:\r\n        {\r\n            packName: \"\",//совпадение по имени\r\n            min: 0,\r\n            max: 0,//количество карточек в колоде\r\n            sortPacks: \"0updated\",// сортировка\r\n            page: 1, //номер страницы\r\n            pageCount: 3,//кол-во элем на странице\r\n            user_id: \"\",\r\n\r\n        },\r\n    totalPacksCount: 0  //кол-во колод\r\n}\r\nexport type packsReducerInitialStateType = typeof initialState\r\nexport const packsReducer = (state: packsReducerInitialStateType = initialState, action: ActionsType): packsReducerInitialStateType => {\r\n\r\n    switch (action.type) {\r\n        case 'SET_CARD_PACKS':\r\n            return {...state, cardPacks: action.cardPacks}\r\n        case 'SET_PAGINATION_PROPERTY':\r\n            return {...state, pagination: {...state.pagination, ...action.property}}\r\n        case \"SET-TOTAL-PACKS-COUNT\":\r\n            return {...state, totalPacksCount: action.packsCount}\r\n\r\n        default:\r\n            return state\r\n    }\r\n}\r\n\r\n//AC\r\nexport const setCardPacksAC = (cardPacks: Array<PackType>) => ({type: 'SET_CARD_PACKS', cardPacks} as const)\r\nexport const setPaginationAC = (property: setPaginationType) => ({type: 'SET_PAGINATION_PROPERTY', property} as const)\r\nexport const setTotalPacksCountAC = (packsCount: number) => ({type: \"SET-TOTAL-PACKS-COUNT\", packsCount} as const)\r\n//TC\r\n\r\n\r\nexport const getCardPacksTC = (getData: getCardPacksDataType = {}) =>\r\n    async (dispatch: Dispatch, getState: () => AppRootStateType) => {\r\n        try {\r\n            dispatch(setAppStatusAC('loading'))\r\n            const response = await getCardPacks(getState, dispatch)\r\n            const currentPage = getData.page\r\n            currentPage && dispatch(setPaginationAC({page: currentPage}))\r\n            dispatch(setTotalPacksCountAC(response.data.cardPacksTotalCount))\r\n            setSuccessfulResponseData(dispatch)\r\n            dispatch(setIsLoggedIn(true))\r\n        } catch (e) {\r\n            handleResponseError(e, dispatch)\r\n        }\r\n    }\r\n\r\nexport const addCardPacksTC = (newPackName: string) =>\r\n    async (dispatch: Dispatch, getState: () => AppRootStateType) => {\r\n        try {\r\n            dispatch(setAppStatusAC('loading'))\r\n            await CardsAPI.createCardsPack(newPackName)\r\n            const response = await getCardPacks(getState, dispatch)\r\n            dispatch(setPublicCardPacksCountAC(response.data.cardPacksTotalCount))\r\n            setSuccessfulResponseData(dispatch)\r\n            dispatch(setTotalPacksCountAC(response.data.cardPacksTotalCount))\r\n\r\n        } catch (e) {\r\n            handleResponseError(e, dispatch)\r\n        }\r\n    }\r\n\r\nexport const removePackTC = (idCarsPack: string) =>\r\n    async (dispatch: Dispatch, getState: () => AppRootStateType) => {\r\n        try {\r\n            dispatch(setAppStatusAC('loading'))\r\n            await CardsAPI.deleteCardsPack(idCarsPack)\r\n            const response = await getCardPacks(getState, dispatch)\r\n            dispatch(setPublicCardPacksCountAC(response.data.cardPacksTotalCount))\r\n            setSuccessfulResponseData(dispatch)\r\n            dispatch(setTotalPacksCountAC(response.data.cardPacksTotalCount))\r\n        } catch (e) {\r\n            handleResponseError(e, dispatch)\r\n        }\r\n    }\r\n\r\nexport const updateTC = (id: string, newNamePack: string, getData: getCardPacksDataType = {}) =>\r\n    async (dispatch: Dispatch, getState: () => AppRootStateType) => {\r\n        try {\r\n            dispatch(setAppStatusAC('loading'))\r\n            await CardsAPI.updateCardsPack(id, newNamePack)\r\n            await getCardPacks(getState, dispatch)\r\n            setSuccessfulResponseData(dispatch)\r\n        } catch (e) {\r\n            handleResponseError(e, dispatch)\r\n        }\r\n    }\r\n\r\n\r\n//types\r\ntype ActionsType =\r\n    | ReturnType<typeof setCardPacksAC>\r\n    | ReturnType<typeof setPaginationAC>\r\n    | ReturnType<typeof setTotalPacksCountAC>\r\n\r\n\r\nexport type PackType = {\r\n    _id: string\r\n    user_id: string\r\n    user_name?: string\r\n    private?: boolean\r\n    name: string\r\n    path?: string\r\n    grade?: number\r\n    shots?: number\r\n    cardsCount?: number\r\n    type?: string\r\n    rating?: number\r\n    created?: string\r\n    updated?: string\r\n    more_id?: string\r\n    __v?: number\r\n}\r\nexport type getCardPacksResponseType = {\r\n    cardPacks: Array<PackType>\r\n    page: number\r\n    pageCount: number\r\n    cardPacksTotalCount: number                  // totalItemsCount\r\n    minCardsCount: number\r\n    maxCardsCount: number\r\n    token: string\r\n    tokenDeathTime: Date\r\n}\r\nexport type setPaginationType =\r\n    { packName: string }\r\n    | { min: number }\r\n    | { max: number }\r\n    | { sortPacks: string }\r\n    | { page: number }\r\n    | { pageCount: number }\r\n    | { user_id: string }\r\n\r\nexport type paginationType = {\r\n    packName: string\r\n    min: number,\r\n    max: number\r\n    sortPacks: string\r\n    page: number\r\n    pageCount: number\r\n    user_id: string\r\n\r\n}","import {Dispatch} from \"redux\";\r\nimport {\r\n     RequestStatusType,\r\n    setAppErrorAC,\r\n    setAppStatusAC,\r\n    setUserDataAC,\r\n    UserDataType\r\n} from \"../app-reduser\";\r\nimport {AxiosResponse} from \"axios\";\r\nimport {CardsAPI} from \"../../m3-dal/instance\";\r\nimport {GetCardsResponseType, setCardsAC, setTotalCardsCountAC} from \"../../../n2-features/f6-cards/Cards-reducer\";\r\nimport {AppRootStateType} from \"../store\";\r\nimport {setIsLoggedIn} from \"../../../n2-features/f1-auth/auth-reducer\";\r\nimport {\r\n    getCardPacksResponseType,\r\n    setCardPacksAC,\r\n\r\n\r\n} from \"../../../n2-features/f5-packs/Packs-reduser\";\r\n\r\nexport const getResponseError = (e: any) => e.response\r\n    ? e.response.data.error\r\n    : (e.message + ', more details in the console')\r\n\r\nexport const handleResponseError = (e: any, dispatch: Dispatch) => {\r\n\r\n    dispatch(setAppStatusAC('failed'))\r\n    const error = getResponseError(e)\r\n    dispatch(setAppErrorAC(error))\r\n}\r\nexport const getCards = async (getState: () => AppRootStateType, dispatch: Dispatch) => {\r\n    const paginationData = getState().cards.paginationCards\r\n    const response = <AxiosResponse<GetCardsResponseType>>await CardsAPI.getCards(paginationData)\r\n    const cards = response.data.cards\r\n    dispatch(setTotalCardsCountAC(response.data.cardsTotalCount))\r\n    dispatch(setCardsAC(cards))\r\n    dispatch(setAppStatusAC('succeeded'))\r\n    dispatch(setAppErrorAC(null))\r\n}\r\nexport const setResponseData = (dispatch: Dispatch, userData: UserDataType,  isLoggedIn: boolean) => {\r\n    dispatch(setUserDataAC(userData))\r\n    dispatch(setIsLoggedIn(isLoggedIn))\r\n    setSuccessfulResponseData(dispatch)\r\n\r\n}\r\nexport const setSuccessfulResponseData=(dispatch: Dispatch)=>{\r\n    dispatch(setAppErrorAC(null))\r\n    dispatch(setAppStatusAC('succeeded'))\r\n}\r\nexport const getCardPacks= async (getState: () => AppRootStateType, dispatch: Dispatch) => {\r\n    const paginationData = getState().packs.pagination\r\n    const response = <AxiosResponse<getCardPacksResponseType>>await CardsAPI.getCardPacks(paginationData)\r\n    dispatch(setCardPacksAC(response.data.cardPacks))\r\n    return response\r\n}","import {Dispatch} from \"redux\";\r\nimport {setAppErrorACType, setAppStatusAC, setAppStatusACType, UserDataType} from \"../../n1-main/m2-bll/app-reduser\";\r\nimport {AuthAPI, recoveryPasswordAPI, RegisterAPI} from \"../../n1-main/m3-dal/instance\";\r\nimport {\r\n    getResponseError,\r\n    handleResponseError,\r\n    setResponseData,\r\n    setSuccessfulResponseData\r\n} from \"../../n1-main/m2-bll/common/HelperFunctions\";\r\nimport {setCardPacksAC} from \"../f5-packs/Packs-reduser\";\r\nimport {setCardsAC} from \"../f6-cards/Cards-reducer\";\r\nimport {AxiosResponse} from \"axios\";\r\n\r\n\r\nconst initialState = {\r\n    recoveryEmail: false, // если true ссылка для восстановления пароля отправлена\r\n    isRegister: false,    // если true  регистрация прошла успешно успешно\r\n    newPassword: false,   // если true  новый пароль введен успешно\r\n    isLoggedIn: false,    // если true  в данный момент залогинены\r\n}\r\nexport type AuthInitialStateType = typeof initialState\r\n\r\nexport const authReducer = (state: AuthInitialStateType = initialState, action: ActionsType): AuthInitialStateType => {\r\n    switch (action.type) {\r\n        case \"RECOVERY_EMAIL\":\r\n            return {...state, recoveryEmail: action.value}\r\n        case 'SET_IS_REGISTER':\r\n            return {...state, isRegister: action.value}\r\n        case \"APP_SET_PASSWORD\":\r\n            return {...state, newPassword: action.newPassword}\r\n        case \"SET_IS_LOGGED_IN\":\r\n            return {...state, isLoggedIn: action.isLoggedIn}\r\n        default:\r\n            return state\r\n    }\r\n}\r\nexport const recoveryEmailAC = (value: boolean) => ({type: 'RECOVERY_EMAIL', value} as const)\r\nexport const setIsRegister = (value: boolean) => ({type: 'SET_IS_REGISTER', value} as const)\r\nexport const setPasswordAC = (newPassword: boolean) => ({type: \"APP_SET_PASSWORD\", newPassword} as const)\r\nexport const setIsLoggedIn = (isLoggedIn: boolean) => ({type: 'SET_IS_LOGGED_IN', isLoggedIn} as const)\r\n\r\n\r\nexport const verificationEmailTC = (data: registeredEmailType) => async (dispatch: Dispatch) => {\r\n    try {\r\n        dispatch(setAppStatusAC('loading'))\r\n        await recoveryPasswordAPI.registeredEmail(data)\r\n        dispatch(recoveryEmailAC(true))\r\n        setSuccessfulResponseData(dispatch)\r\n    } catch (e) {\r\n        handleResponseError(e, dispatch)\r\n    }\r\n}\r\n\r\nexport const RegisterTC = (data: RegisterParamsType) => async (dispatch: Dispatch) => {\r\n    try {\r\n        dispatch(setAppStatusAC('loading'))\r\n        await RegisterAPI.register(data)\r\n        dispatch(setIsRegister(true))\r\n        setSuccessfulResponseData(dispatch)\r\n    } catch (e) {\r\n        handleResponseError(e, dispatch)\r\n    }\r\n}\r\nexport const setPasswordTC = (data: SetPasswordType) =>\r\n    async (dispatch: Dispatch) => {\r\n        try {\r\n            dispatch(setAppStatusAC('loading'))\r\n            await recoveryPasswordAPI.setPassword(data)\r\n            dispatch(setPasswordAC(true))\r\n            setSuccessfulResponseData(dispatch)\r\n\r\n        } catch (e) {\r\n            handleResponseError(e, dispatch)\r\n        }\r\n    }\r\nexport const getMe = () => async (dispatch: Dispatch) => {\r\n    try {\r\n        dispatch(setAppStatusAC('loading'))\r\n        let response = <AxiosResponse<UserDataType>>await AuthAPI.getAuthMe()\r\n        setResponseData(dispatch, response.data, true)\r\n    } catch (e) {\r\n        dispatch(setAppStatusAC('failed'))\r\n        const error = getResponseError(e)\r\n        console.log(error)\r\n        dispatch(setIsLoggedIn(false))\r\n    }\r\n}\r\nexport const login = (mail: string, password: string, remember_Me: boolean) =>\r\n    async (dispatch: any) => {\r\n        try {\r\n            dispatch(setAppStatusAC('loading'))\r\n            let response = <AxiosResponse<UserDataType>>await AuthAPI.login(mail, password, remember_Me)\r\n            setResponseData(dispatch, response.data, true)\r\n        } catch (e) {\r\n            handleResponseError(e, dispatch)\r\n        }\r\n    }\r\n\r\nexport const logout = () =>\r\n    async (dispatch: any) => {\r\n        try {\r\n            dispatch(setAppStatusAC('loading'))\r\n            await AuthAPI.logout()\r\n            setResponseData(dispatch, null, false)\r\n            dispatch(setCardPacksAC([]))\r\n            dispatch(setCardsAC([]))\r\n        } catch (e) {\r\n            handleResponseError(e, dispatch)\r\n        }\r\n\r\n    }\r\nexport type registeredEmailType = {\r\n    email: string\r\n    from: string\r\n    message: string\r\n}\r\nexport type RegisterParamsType = {\r\n    email: string\r\n    password: string\r\n}\r\nexport type SetPasswordType = {\r\n    password: string\r\n    resetPasswordToken: string\r\n}\r\nexport type recoveryEmailACType = ReturnType<typeof recoveryEmailAC>\r\nexport type setIsRegisterACType = ReturnType<typeof setIsRegister>\r\nexport type setPasswordACType = ReturnType<typeof setPasswordAC>\r\nexport type setIsLoggedInACType = ReturnType<typeof setIsLoggedIn>\r\ntype ActionsType = recoveryEmailACType\r\n    | setAppStatusACType\r\n    | setAppErrorACType\r\n    | setIsRegisterACType\r\n    | setPasswordACType\r\n    | setIsLoggedInACType","import React from 'react'\r\nimport SuperInput from '../../../n1-main/m1-ui/common/SuperInput/SuperInput';\r\nimport SuperButton from '../../../n1-main/m1-ui/common/SuperButton/SuperButton';\r\nimport {useDispatch, useSelector} from 'react-redux';\r\nimport {Redirect} from 'react-router-dom';\r\nimport {useFormik} from 'formik';\r\nimport {AppRootStateType} from '../../../../src/n1-main/m2-bll/store'\r\nimport {PATH} from \"../../../n1-main/m1-ui/routes/Routes\";\r\nimport {RequestStatusType} from \"../../../n1-main/m2-bll/app-reduser\";\r\nimport {login} from \"../auth-reducer\";\r\n\r\n\r\nexport const Login = () => {\r\n    const status = useSelector<AppRootStateType, RequestStatusType>(state => state.app.status)\r\n    const isLoggedIn = useSelector<AppRootStateType, boolean>(state => state.auth.isLoggedIn)\r\n    const dispatch = useDispatch()\r\n\r\n    const disable = status === 'loading'\r\n\r\n    const formik = useFormik({\r\n        initialValues: {\r\n            email: \"Potapov.eo@mail.ru\",\r\n            password: \"jekajeka\",\r\n            rememberMe: true\r\n        },\r\n        validate: (values) => {\r\n            const errors: FormikErrorType = {};\r\n            if (!values.email) {\r\n                errors.email = \"Required\"\r\n            } else if (!/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\\.[A-Z]{2,4}$/i.test(values.email)) {\r\n                errors.email = 'Invalid email address'\r\n            }\r\n            if (!values.password) {\r\n                errors.password = \"Required\"\r\n            }\r\n            return errors;\r\n        },\r\n        onSubmit: values => {\r\n            const thunk = login(values.email, values.password, values.rememberMe)\r\n            dispatch(thunk)\r\n            formik.resetForm()\r\n        },\r\n    })\r\n\r\n    if (isLoggedIn) {\r\n          return <Redirect to={PATH.PROFILE}/>\r\n    }\r\n\r\n    return (\r\n        <div className=\"App\">\r\n            <h1>LOG IN</h1>\r\n            <form onSubmit={formik.handleSubmit}>\r\n                <div><SuperInput name=\"email\" onChange={formik.handleChange} onBlur={formik.handleBlur} type=\"text\"\r\n                                 value={formik.values.email} placeholder={\"Email\"}/></div>\r\n                {formik.touched.email && formik.errors.email ?\r\n                    <div style={{color: \"red\"}}> {formik.errors.email} </div> : null}\r\n                <div><SuperInput name=\"password\" onChange={formik.handleChange} onBlur={formik.handleBlur}\r\n                                 type=\"password\" value={formik.values.password} placeholder={\"Password\"}/></div>\r\n                {formik.touched.password && formik.errors.password ?\r\n                    <div style={{color: \"red\"}}> {formik.errors.password} </div> : null}\r\n                <div><span>Remember me </span><input name=\"rememberMe\" onChange={formik.handleChange}\r\n                                                          checked={formik.values.rememberMe} type=\"checkbox\"/></div>\r\n                <div><SuperButton disabled={disable} name=\"log in\"/></div>\r\n            </form>\r\n        </div>\r\n    )\r\n}\r\n\r\n//types\r\ntype FormikErrorType = {\r\n    email?: string\r\n    password?: string\r\n    rememberMe?: boolean\r\n}\r\n","import React from 'react'\r\nimport {useFormik} from \"formik\";\r\nimport {useDispatch, useSelector} from \"react-redux\";\r\nimport {Redirect} from \"react-router-dom\";\r\nimport {AppRootStateType} from \"../../../n1-main/m2-bll/store\";\r\nimport {PATH} from \"../../../n1-main/m1-ui/routes/Routes\";\r\nimport {RequestStatusType} from \"../../../n1-main/m2-bll/app-reduser\";\r\nimport SuperButton from \"../../../n1-main/m1-ui/common/SuperButton/SuperButton\";\r\nimport SuperInput from \"../../../n1-main/m1-ui/common/SuperInput/SuperInput\";\r\nimport {RegisterTC} from \"../auth-reducer\";\r\n\r\nexport const Register = () => {\r\n    const dispatch = useDispatch()\r\n    const status = useSelector<AppRootStateType, RequestStatusType>(state => state.app.status)\r\n    const isLoggedIn = useSelector<AppRootStateType, boolean>(state => state.auth.isLoggedIn)\r\n    const isRegister = useSelector<AppRootStateType, boolean>(state => state.auth.isRegister)\r\n    type FormikErrorType = {\r\n        email?: string\r\n        password?: string\r\n    }\r\n    const disable = status === 'loading'\r\n    const formik = useFormik({\r\n        initialValues: {\r\n            email: 'potapov.eo@yandex.ru',\r\n            password: 'jekajeka',\r\n            password2: 'jekajeka',\r\n        },\r\n        validate: (values) => {\r\n            const errors: FormikErrorType = {};\r\n            if (!values.email) {\r\n                errors.email = 'email Required';\r\n            } else if (!/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\\.[A-Z]{2,4}$/i.test(values.email)) {\r\n                errors.email = 'Invalid email address';\r\n            }\r\n            if (!values.password) {\r\n                errors.password = 'password Required';\r\n            } else if (values.password.length < 7) {\r\n                errors.password = 'Invalid email address';\r\n            } else if (values.password2 !== values.password) {\r\n                errors.password = 'Passwords do not match';\r\n            }\r\n            return errors;\r\n        },\r\n\r\n\r\n        onSubmit: values => {\r\n            dispatch(RegisterTC({email: values.email, password: values.password}))\r\n            formik.resetForm()\r\n        },\r\n    })\r\n\r\n    if (isLoggedIn) {\r\n        return <Redirect to={PATH.PROFILE}/>\r\n    }\r\n    if (isRegister) {\r\n        return <Redirect to={PATH.LOGIN}/>\r\n    }\r\n\r\n    return <div className=\"App\">\r\n\r\n        <form onSubmit={formik.handleSubmit}>\r\n            <h1>REGISTRATION</h1>\r\n            <div>\r\n                <SuperInput\r\n                    placeholder={\"email\"}\r\n                    type=\"email\"\r\n                    name=\"email\"\r\n                    onChange={formik.handleChange}\r\n                    value={formik.values.email}\r\n                />\r\n                {formik.touched.email && formik.errors.email ?\r\n                    <div style={{color: \"red\"}}>{formik.errors.email}</div> : null}\r\n            </div>\r\n            <div>\r\n                <SuperInput\r\n                    placeholder={\"password\"}\r\n                    type=\"password\"\r\n                    name=\"password\"\r\n                    onChange={formik.handleChange}\r\n                    value={formik.values.password}\r\n                />\r\n            </div>\r\n            <div>\r\n                <SuperInput\r\n                    placeholder={\"password2\"}\r\n                    type=\"password\"\r\n                    name=\"password2\"\r\n                    onChange={formik.handleChange}\r\n                    value={formik.values.password2}\r\n                />\r\n                {formik.touched.password && formik.errors.password ?\r\n                    <div style={{color: \"red\"}}>{formik.errors.password}</div> : null}\r\n            </div>\r\n            <SuperButton disabled={disable} type=\"submit\"/>\r\n\r\n        </form>\r\n\r\n\r\n    </div>\r\n}","import React from 'react'\r\nimport {useFormik} from \"formik\";\r\nimport {useDispatch, useSelector} from \"react-redux\";\r\nimport {AppRootStateType} from \"../../../n1-main/m2-bll/store\";\r\nimport SuperButton from \"../../../n1-main/m1-ui/common/SuperButton/SuperButton\";\r\nimport SuperInput from \"../../../n1-main/m1-ui/common/SuperInput/SuperInput\";\r\nimport {RequestStatusType} from \"../../../n1-main/m2-bll/app-reduser\";\r\nimport {DEV_VERSION} from \"../../../config\";\r\nimport {recoveryEmailAC, verificationEmailTC} from \"../auth-reducer\";\r\n\r\n\r\nexport const RecoveryPassword = () => {\r\n    const dispatch = useDispatch()\r\n    const status = useSelector<AppRootStateType, RequestStatusType>(state => state.app.status)\r\n    const registeredEmail = useSelector<AppRootStateType, boolean>(state => state.auth.recoveryEmail)\r\n\r\n    const from = \"test-front-admin <ai73a@yandex.by>\"\r\n    const message = !DEV_VERSION\r\n        ? \"<div>password recovery link:<a\" +\r\n        \" href='http://localhost:3000/#/new-password/$token$'>link</a></div>\"\r\n        : \"<div>password recovery link:<a\" +\r\n        \" href='https://potapov-eo.github.io/friday-day/#/new-password/$token$'>link</a></div>\"\r\n\r\n    type FormikErrorType = {\r\n        email?: string\r\n        from?: string\r\n        message?: string\r\n    }\r\n    const disable = status === 'loading'\r\n\r\n    const formik = useFormik({\r\n        initialValues: {\r\n            email: ''\r\n        },\r\n        validate: (values) => {\r\n            const errors: FormikErrorType = {};\r\n            if (!values.email) {\r\n                errors.email = \"Required\"\r\n            } else if (!/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\\.[A-Z]{2,4}$/i.test(values.email)) {\r\n                errors.email = 'Invalid email address'\r\n            }\r\n            return errors;\r\n        },\r\n\r\n        onSubmit: values => {\r\n            dispatch(verificationEmailTC({email: values.email, from, message}))\r\n            formik.resetForm()\r\n        },\r\n    })\r\n    const TryAgain = () => dispatch(recoveryEmailAC(false))\r\n    if (registeredEmail) {\r\n        return (\r\n            <div className=\"App\">\r\n                <h1>Recovery Password</h1>\r\n                <h2>Success!</h2>\r\n                <h3>Click the link in the message in your email</h3>\r\n                <SuperButton onClick={TryAgain} name={\"Try again\"}/>\r\n            </div>\r\n\r\n        )\r\n    }\r\n\r\n\r\n    return <div className=\"App\">\r\n\r\n        <form onSubmit={formik.handleSubmit}>\r\n\r\n            <h1>Recovery Password</h1>\r\n            <div>\r\n                <SuperInput\r\n                    placeholder={\"email\"}\r\n                    type=\"email\"\r\n                    name=\"email\"\r\n                    onChange={formik.handleChange}\r\n                    value={formik.values.email}\r\n                />\r\n                {formik.touched.email && formik.errors.email ?\r\n                    <div style={{color: \"red\"}}>{formik.errors.email}</div> : null}\r\n            </div>\r\n\r\n            <SuperButton disabled={disable} type=\"submit\" name='Send'/>\r\n\r\n        </form>\r\n\r\n    </div>\r\n}","import React from 'react'\r\nimport {useSelector} from \"react-redux\";\r\nimport {AppRootStateType} from \"../../n1-main/m2-bll/store\";\r\nimport {Redirect} from \"react-router-dom\";\r\nimport {PATH} from \"../../n1-main/m1-ui/routes/Routes\";\r\nimport {UserDataType} from \"../../n1-main/m2-bll/app-reduser\";\r\nimport s from \"./Profile.module.css\";\r\n\r\n\r\nexport const Profile = () => {\r\n\r\n    const isLoggedIn = useSelector<AppRootStateType, boolean>(state => state.auth.isLoggedIn)\r\n    const userData = useSelector<AppRootStateType, UserDataType>(state => state.app.UserData)\r\n    let {name, email, publicCardPacksCount} = userData ? userData : {name: \"\", email: \"\", publicCardPacksCount: \"\"}\r\n\r\n    if (!isLoggedIn) {\r\n        return <Redirect to={PATH.LOGIN}/>\r\n    }\r\n\r\n    const avatar = \"https://www.meme-arsenal.com/memes/86d4e6cb230346eedca4b6c0d8970fef.jpg\"\r\n    return (\r\n\r\n        <div className={s.profile}>\r\n            <h1>PROFILE</h1>\r\n            <div className={s.profileContainer}>\r\n                <img className={s.avatar} src={avatar}/>\r\n                {/* {userData.avatar} */}\r\n                <div className={s.info}>\r\n                    <div> Name: <span>{name}</span></div>\r\n                    <div> Email: <span>{email}</span></div>\r\n                    <div>Public Card Packs Count: <span>{publicCardPacksCount}</span></div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    )\r\n}","import React from 'react'\r\nimport {useFormik} from \"formik\";\r\nimport {useDispatch, useSelector} from \"react-redux\";\r\nimport {Redirect, useParams} from \"react-router-dom\";\r\nimport {AppRootStateType} from \"../../../n1-main/m2-bll/store\";\r\nimport {RequestStatusType} from \"../../../n1-main/m2-bll/app-reduser\";\r\nimport SuperButton from \"../../../n1-main/m1-ui/common/SuperButton/SuperButton\";\r\nimport SuperInput from \"../../../n1-main/m1-ui/common/SuperInput/SuperInput\";\r\nimport {PATH} from \"../../../n1-main/m1-ui/routes/Routes\";\r\nimport {setPasswordTC} from \"../auth-reducer\";\r\n\r\nexport const NewPassword = () => {\r\n    const dispatch = useDispatch()\r\n    const status = useSelector<AppRootStateType, RequestStatusType>(state => state.app.status)\r\n    const newPassword = useSelector<AppRootStateType, boolean>(state => state.auth.newPassword)\r\n    type FormikErrorType = {\r\n        password?: string\r\n        resetPasswordToken?: string\r\n    }\r\n\r\n    let {token} = useParams<{token:string}>()\r\n\r\n    const disable = status === 'loading'\r\n\r\n    const formik = useFormik({\r\n        initialValues: {\r\n            password: '',\r\n            password2: '',\r\n            resetPasswordToken: (token)\r\n        },\r\n        validate: (values) => {\r\n            const errors: FormikErrorType = {};\r\n            if (!values.password) {\r\n                errors.password = 'password Required';\r\n            } else if (values.password.length < 7) {\r\n                errors.password = 'length of passwords should be 7 and more simbols';\r\n            } else if (values.password2 !== values.password) {\r\n                errors.password = 'Passwords do not match';\r\n            }\r\n            return errors;\r\n        },\r\n\r\n        onSubmit: values => {\r\n            dispatch(setPasswordTC({password: values.password, resetPasswordToken: values.resetPasswordToken}))\r\n            formik.resetForm()\r\n        },\r\n    })\r\n    if (newPassword) {\r\n        return <Redirect to={PATH.LOGIN}/>\r\n    }\r\n\r\n    return <div className=\"App\">\r\n        <form onSubmit={formik.handleSubmit}>\r\n            NewPassword\r\n            <div>\r\n                <SuperInput\r\n                    placeholder={\"password\"}\r\n                    type=\"password\"\r\n                    name=\"password\"\r\n                    onChange={formik.handleChange}\r\n                    value={formik.values.password}\r\n                />\r\n                {formik.touched.password && formik.errors.password ?\r\n                    <div style={{color: \"red\"}}>{formik.errors.password}</div> : null}\r\n            </div>\r\n            <div>\r\n                <SuperInput\r\n                    placeholder={\"confirm password\"}\r\n                    type=\"password\"\r\n                    name=\"password2\"\r\n                    onChange={formik.handleChange}\r\n                    value={formik.values.password2}\r\n                />\r\n                {formik.touched.password2 && formik.errors.password2 ?\r\n                    <div style={{color: \"red\"}}>{formik.errors.password2}</div> : null}\r\n            </div>\r\n\r\n            <SuperButton disabled={disable} type=\"submit\" name='Send'/>\r\n\r\n        </form>\r\n    </div>\r\n}\r\n","import style from './Modal.module.css'\r\n\r\n\r\nexport let Modal = (props: { activeModal: boolean, setActiveModal: (activeModal: boolean) => void, children: any }) => {\r\n    return <div className={props.activeModal ? style.modal + ' ' + style.modalActive : style.modal} onClick={() => {\r\n        props.setActiveModal(false)\r\n    }}>\r\n        <div className={props.activeModal ? style.modalContant + ' ' + style.modalContantactive : style.modalContant}\r\n             onClick={e => {\r\n                 e.stopPropagation();\r\n                            }}>\r\n            {props.children}\r\n        </div>\r\n    </div>\r\n}\r\n","import React from 'react'\r\nimport SuperButton from '../../SuperButton/SuperButton'\r\n\r\nexport type BooleanFormPropsType = {\r\n    question?: string\r\n    push: (isDel: boolean) => void\r\n}\r\n\r\nexport const BooleanForm = React.memo(({question, push}: BooleanFormPropsType) => {\r\n\r\n    const addItemTitle = (value: boolean) => {\r\n        push(value)\r\n    }\r\n\r\n    return (\r\n        <div>\r\n            <div>{question}</div>\r\n\r\n            <SuperButton type=\"submit\" onClick={() => addItemTitle(true)} name={\"YES\"}/>\r\n            <SuperButton type=\"submit\" onClick={() => addItemTitle(false)} name={\"NO\"}/>\r\n        </div>\r\n\r\n    )\r\n})","import React from 'react'\r\nimport {useFormik} from 'formik'\r\nimport SuperInput from \"../../SuperInput/SuperInput\";\r\nimport SuperButton from \"../../SuperButton/SuperButton\";\r\n\r\nexport type valueType = { question: string, answer: string }\r\ntype AddCardFormPropsType = {\r\n    addItem: (title: string) => void\r\n    buttonName: string\r\n    itemName: string\r\n    text?: string\r\n}\r\nexport const AddForm = React.memo((props: AddCardFormPropsType\r\n) => {\r\n\r\n    const formik = useFormik({\r\n        initialValues: {\r\n            values: \"\",\r\n        },\r\n        validate: (values) => {\r\n            const errors: FormikErrorType = {};\r\n            if (!values.values) {\r\n                errors.values = \"Required field\"\r\n            }\r\n            return errors;\r\n        },\r\n        onSubmit: values => {\r\n            formik.resetForm()\r\n            props.addItem(values.values)\r\n\r\n        },\r\n    })\r\n\r\n    return (\r\n        <div>\r\n            <div>{props.text}</div>\r\n            <form onSubmit={formik.handleSubmit}>\r\n                <div><SuperInput name=\"values\" onChange={formik.handleChange} onBlur={formik.handleBlur}\r\n                                 type=\"text\"\r\n                                 value={formik.values.values} placeholder={props.itemName}/></div>\r\n                {formik.touched.values && formik.errors.values ?\r\n                    <div style={{color: \"red\"}}> {formik.errors.values} </div> : null}\r\n                <div><SuperButton type=\"submit\" name={props.buttonName}/></div>\r\n            </form>\r\n        </div>\r\n    )\r\n})\r\n\r\n//types\r\ntype FormikErrorType = {\r\n    values?: string\r\n}","import React, {useState} from 'react'\r\nimport s from '../../Packs.module.css'\r\n\r\nimport {useDispatch, useSelector} from \"react-redux\";\r\n\r\nimport {NavLink} from \"react-router-dom\";\r\nimport {PackType, removePackTC, updateTC} from \"../../Packs-reduser\";\r\nimport {AppRootStateType} from \"../../../../n1-main/m2-bll/store\";\r\nimport {RequestStatusType} from \"../../../../n1-main/m2-bll/app-reduser\";\r\nimport SuperButton from \"../../../../n1-main/m1-ui/common/SuperButton/SuperButton\";\r\nimport {PATH} from \"../../../../n1-main/m1-ui/routes/Routes\";\r\n\r\n\r\n\r\ntype ActiveColumnPackType = {\r\n    pack: PackType\r\n    setActiveDelPackModal: (activeModal: boolean) => void\r\n    setActiveUpdatePackModal:(activeModal: boolean) => void\r\n}\r\nexport const ActiveColumnPack = (props: ActiveColumnPackType) => {\r\n\r\n    const status = useSelector<AppRootStateType, RequestStatusType>(state => state.app.status)\r\n    const registerUserId = useSelector<AppRootStateType, string>(state => state.app.UserData ? state.app.UserData._id : \"\")\r\n    const {user_id, _id} = props.pack\r\n    const isMyPack = (user_id === registerUserId) && !(status === 'loading')\r\n\r\n    return (\r\n\r\n            <div className={s.tableString} >\r\n                <div><SuperButton disabled={!isMyPack} onClick={() => {\r\n                    props.setActiveDelPackModal(true)\r\n                }} name={\"del\"}/></div>\r\n                <div><SuperButton disabled={!isMyPack} name={\"update\"} onClick={() => {\r\n                    props.setActiveUpdatePackModal(true)\r\n                }}/></div>\r\n                <div><NavLink to={`${PATH.CARDS}/${_id}`} activeClassName={s.activeLink}>CARDS</NavLink></div>\r\n                <div><NavLink to={`${PATH.LEARN}/${_id}`} activeClassName={s.activeLink}>Learn</NavLink></div>\r\n            </div>\r\n\r\n\r\n            )\r\n}\r\n","import React, {useState} from 'react'\r\nimport s from '../Packs.module.css'\r\nimport SuperButton from \"../../../n1-main/m1-ui/common/SuperButton/SuperButton\";\r\nimport {useDispatch} from \"react-redux\";\r\nimport {PackType, removePackTC, updateTC} from \"../Packs-reduser\";\r\nimport {Modal} from '../../..//n1-main/m1-ui/common/Modal/Modal'\r\nimport {BooleanForm} from \"../../../n1-main/m1-ui/common/Modal/BooleanModal/BooleanForm\";\r\nimport {AddForm} from \"../../../n1-main/m1-ui/common/Modal/AddForm/AddForm\";\r\nimport {ActiveColumnPack} from \"./activeColumnPack/activeColumnPack\";\r\n\r\n\r\ntype packPropsType = {\r\n    pack: PackType\r\n    activeModal: boolean\r\n    setActiveModal: (activeModal: boolean) => void\r\n}\r\nexport const Pack = (props: packPropsType) => {\r\n    const dispatch = useDispatch()\r\n    const [activeDelPackModal, setActiveDelPackModal] = useState<boolean>(false)\r\n    const [activeUpdatePackModal, setActiveUpdatePackModal] = useState<boolean>(false)\r\n    const [isActiveColumnPack, setIsActiveColumnPack] = useState<boolean>(false)\r\n    const {_id, name, cardsCount, updated} = props.pack\r\n\r\n\r\n    const deletePack = (isDel: boolean) => {\r\n        setActiveDelPackModal(false)\r\n        isDel && dispatch(removePackTC(_id))\r\n    }\r\n\r\n    const updatePack = (newNamePack: string) => {\r\n        dispatch(updateTC(_id, newNamePack))\r\n        setActiveUpdatePackModal(false)\r\n    }\r\n    const showActiveColumnPack = () => {\r\n        setIsActiveColumnPack(!isActiveColumnPack)\r\n    }\r\n    const nameBtn = isActiveColumnPack ? \"<<<\" : \">>>\"\r\n    return (\r\n        <div>\r\n            <div className={s.tableString}>\r\n\r\n                <div>{name} </div>\r\n                <div>{cardsCount}</div>\r\n                <div>{updated ? updated.slice(0, 10) : \"\"}</div>\r\n                <span className={s.ActiveColumnPack}>\r\n                <ActiveColumnPack pack={props.pack}\r\n                                  setActiveDelPackModal={setActiveDelPackModal}\r\n                                  setActiveUpdatePackModal={setActiveUpdatePackModal}/></span>\r\n\r\n                <div className={s.ActiveColumnPack3}><SuperButton onClick={() => showActiveColumnPack()}\r\n                                                                  name={nameBtn}/></div>\r\n\r\n            </div>\r\n\r\n            <span className={s.ActiveColumnPack2}>\r\n                {isActiveColumnPack && <ActiveColumnPack pack={props.pack}\r\n                                                         setActiveDelPackModal={setActiveDelPackModal}\r\n                                                         setActiveUpdatePackModal={setActiveUpdatePackModal}/>}\r\n            </span>\r\n\r\n\r\n            <Modal activeModal={activeUpdatePackModal} setActiveModal={setActiveUpdatePackModal}>\r\n                <AddForm addItem={updatePack} buttonName={\"update\"} itemName={\"new name\"} text={\"Enter new name\"}/>\r\n            </Modal>\r\n            <Modal activeModal={activeDelPackModal} setActiveModal={setActiveDelPackModal}>\r\n                <BooleanForm question={`you want to remove the pack with the name: \"${name}\". Are you sure`}\r\n                             push={deletePack}/>\r\n            </Modal>\r\n        </div>\r\n\r\n\r\n    )\r\n}\r\n","import React, {useState} from \"react\";\r\nimport styles from './Paginator.module.css'\r\n\r\n\r\ntype PropsType = {\r\n    pageSize: number\r\n    totalItemsCount: number\r\n    currentPage: number\r\n    onPageChanged: (pageNumber: number) => void\r\n    portionSize: number\r\n}\r\n\r\nexport const Paginator = (props: PropsType) => {\r\n\r\n    let pagesCount = Math.ceil(props.totalItemsCount / props.pageSize)\r\n\r\n    let pages = []\r\n\r\n    for (let i = 1; i <= pagesCount; i++) {\r\n        pages.push(i)\r\n    }\r\n\r\n    let portionCount = Math.ceil(pagesCount / props.portionSize)\r\n    let [portionNumber, setPortionNumber] = useState<number>(1)\r\n    let leftPortionPageNumber = (portionNumber - 1) * props.portionSize + 1\r\n    let rightPortionPageNumber = portionNumber * props.portionSize\r\n\r\n\r\n    return (\r\n        <div className={styles.paginator}>\r\n            {\r\n                portionNumber > 1 &&\r\n                <button onClick={() => setPortionNumber(portionNumber - 1)}>Previous </button>\r\n            }\r\n            {\r\n                pages\r\n                    .filter(p => p >= leftPortionPageNumber && p <= rightPortionPageNumber)\r\n                    .map(p => {\r\n                        return <span key={p}\r\n                            className={props.currentPage === p ? `${styles.coursor && styles.selectedPage}` : `'' ${styles.coursor} `}\r\n                            onClick={() => {\r\n                                props.onPageChanged(p)\r\n                            }}\r\n                        > {p} </span>\r\n                    })\r\n            }\r\n            {portionCount > portionNumber &&\r\n            <button onClick={() => setPortionNumber(portionNumber + 1)}>Next</button>\r\n            }\r\n        </div>\r\n    )\r\n}\r\n","import React from 'react'\r\nimport s from './SortButtons.module.css'\r\nimport {FontAwesomeIcon} from \"@fortawesome/react-fontawesome\"\r\nimport {faSortDown, faSortUp} from '@fortawesome/free-solid-svg-icons'\r\nimport {getCardPacksTC, setPaginationAC} from '../../../../n2-features/f5-packs/Packs-reduser'\r\nimport {useDispatch} from 'react-redux'\r\n\r\nexport const SortPackButton = (props: { param: string }) => {\r\n    const dispatch = useDispatch()\r\n\r\n    const sortUp = (param: string) => {\r\n        dispatch(setPaginationAC({sortPacks: `1` + param}))\r\n        dispatch(getCardPacksTC())\r\n    }\r\n    const sortDown = (param: string) => {\r\n        dispatch(setPaginationAC({sortPacks: `0` + param}))\r\n        dispatch(getCardPacksTC())\r\n    }\r\n    return <div className={s.tableSortIcons}>\r\n        <a type=\"submit\" onClick={() => sortUp(props.param)}><FontAwesomeIcon icon={faSortUp} size=\"1x\"/></a>\r\n        <a type=\"submit\" onClick={() => sortDown(props.param)}><FontAwesomeIcon icon={faSortDown} size=\"1x\"/></a>\r\n    </div>\r\n}\r\n","import React from 'react'\r\nimport { SortPackButton } from '../../../../n1-main/m1-ui/common/SortButtons/SortPackButton';\r\nimport SuperButton from \"../../../../n1-main/m1-ui/common/SuperButton/SuperButton\";\r\nimport s from './Headings.module.css'\r\n\r\ntype HeadingsPropsType = {\r\n    setActiveAddPackModal: (value: boolean) => void\r\n}\r\nexport const Headings = (props: HeadingsPropsType) => {\r\n\r\n    return (\r\n        <  >\r\n            <div className={s.tableColumnTitle}>\r\n                <h2> Name</h2>\r\n                <SortPackButton param=\"name\"/>\r\n            </div>\r\n            <div className={s.tableColumnTitle}>\r\n\r\n                <h2> Cards Count</h2>\r\n                <SortPackButton param=\"cardsCount\"/>\r\n            </div>\r\n            <div className={s.tableColumnTitle}>\r\n                <h2> Updated</h2>\r\n                <SortPackButton param=\"updated\"/>\r\n            </div>\r\n            <div><SuperButton onClick={() => {\r\n                props.setActiveAddPackModal(true)\r\n            }} name={\"add\"}/></div>\r\n\r\n            <div className={s.tableColumnTitleHide} ><h2>Update</h2></div>\r\n            <div className={s.tableColumnTitleHide}><h2> Cards</h2></div>\r\n             <div className={s.tableColumnTitleHide}><h2> Learn</h2></div>\r\n\r\n\r\n        </>\r\n\r\n\r\n    )\r\n}\r\n","import React, {ChangeEvent, useCallback, useEffect, useState} from 'react'\r\nimport {useDispatch, useSelector} from 'react-redux'\r\nimport {AppRootStateType} from '../../../src/n1-main/m2-bll/store'\r\nimport {addCardPacksTC, getCardPacksTC, PackType, paginationType, setPaginationAC} from './/Packs-reduser'\r\nimport s from './Packs.module.css'\r\nimport {Pack} from \"./pack/Pack\";\r\nimport {RequestStatusType, UserDataType} from \"../../n1-main/m2-bll/app-reduser\";\r\nimport {Paginator} from \"../../n1-main/m1-ui/common/Paginator/Paginator\";\r\nimport {Modal} from '../../n1-main/m1-ui/common/Modal/Modal'\r\nimport {AddForm} from \"../../n1-main/m1-ui/common/Modal/AddForm/AddForm\";\r\nimport {NavLink, Redirect} from \"react-router-dom\";\r\nimport {PATH} from \"../../n1-main/m1-ui/routes/Routes\";\r\nimport {Headings} from \"./pack/headings/Headings\";\r\nimport SuperInput from \"../../n1-main/m1-ui/common/SuperInput/SuperInput\";\r\n\r\nexport const Packs = (props: { activeModal: boolean, setActiveModal: (activeModal: boolean) => void }) => {\r\n    const dispatch = useDispatch()\r\n\r\n    const isLoggedIn = useSelector<AppRootStateType, boolean>(state => state.auth.isLoggedIn)\r\n    const userId = useSelector<AppRootStateType, string>(state => state.app.UserData ? state.app.UserData._id : \"\")\r\n    const {status, UserData} = useSelector<AppRootStateType, { status: RequestStatusType, UserData: UserDataType }>\r\n    (state => state.app)\r\n    const {cardPacks, pagination, totalPacksCount} = useSelector<AppRootStateType,\r\n        { cardPacks: Array<PackType>, pagination: paginationType, totalPacksCount: number }>(state => state.packs)\r\n    const {page, user_id} = pagination\r\n    const pageCount =useSelector<AppRootStateType,number>(state => state.packs.pagination.pageCount)\r\n    const [isChange, setIsChange] = useState<boolean>(false)\r\n    const [idTimeout, setIdTimeout] = useState<number>(0)\r\n    const [searchName, setSearchName] = useState<string>(\"\")\r\n    const [activeAddPackModal, setActiveAddPackModal] = useState<boolean>(false)\r\n    const [isMyPackChecked, setIsMyPackChecked] = useState<boolean>(false)\r\n    const isLoading = status === 'loading'\r\n\r\n    const setChange = useCallback(() => {\r\n        clearTimeout(idTimeout)\r\n        const id = window.setTimeout(() => {\r\n            setIsChange(true)\r\n            setIdTimeout(0)\r\n        }, 1500)\r\n        setIdTimeout(id)\r\n    }, [idTimeout])                                                                   // задержка при поиске\r\n\r\n    useEffect(() => {\r\n        if (isChange && !isLoading) {\r\n            dispatch(setPaginationAC({packName: searchName}))\r\n            dispatch(getCardPacksTC())\r\n            setIsChange(false)\r\n        }\r\n        if (user_id) {\r\n            setIsMyPackChecked(true)\r\n        }\r\n    }, [setChange, isChange, setIsChange, setPaginationAC, isLoading])                    //  поиск по имени\r\n\r\n    const onChangeCallback = (e: ChangeEvent<HTMLInputElement>) => {\r\n        setSearchName(e.currentTarget.value)\r\n        setChange()\r\n    }                                                                   // колбек для изменения текста инпута поиска\r\n\r\n\r\n    useEffect(() => {\r\n        if (isLoggedIn) {\r\n            dispatch(getCardPacksTC())\r\n        }\r\n    }, [isLoggedIn])\r\n\r\n    const change = (e: ChangeEvent<HTMLInputElement>) => {              // колбек для изменения чек-бокса мои колоды\r\n        if (e.currentTarget.checked) {\r\n            setIsMyPackChecked(true)\r\n            dispatch(setPaginationAC({user_id: userId}))\r\n            dispatch(getCardPacksTC())\r\n\r\n        } else {\r\n            setIsMyPackChecked(false)\r\n            dispatch(setPaginationAC({user_id: \"\"}))\r\n            dispatch(getCardPacksTC())\r\n        }\r\n    }\r\n\r\n    const addPack = (newPackName: string) => {\r\n        dispatch(addCardPacksTC(newPackName))\r\n        setActiveAddPackModal(false)\r\n    }\r\n\r\n    const onPageChanged = (pageNumber: number) => {                           // изменение номера страницы пагинатора\r\n        dispatch(setPaginationAC({page: pageNumber}))\r\n        dispatch(getCardPacksTC())\r\n    }\r\n\r\n    if (!UserData) {\r\n        return <Redirect to={PATH.LOGIN}/>\r\n\r\n    }\r\n\r\n    return (\r\n\r\n        <div className={s.table}>\r\n            <h1>Packs</h1>\r\n            <div> my Pack <input checked={isMyPackChecked} type={\"checkbox\"} onChange={change}/></div>\r\n            {/*<div>\r\n                <Paginator currentPage={page} pageSize={pageCount} totalItemsCount={totalPacksCount}\r\n                           portionSize={10}  // пагинатор\r\n                           onPageChanged={onPageChanged}/>\r\n            </div>*/}\r\n\r\n            <div className={s.search}> Pack name search: <SuperInput value={searchName} onChange={onChangeCallback}/></div>\r\n\r\n            {isLoggedIn ? <div className={s.tableString}>\r\n                < Headings setActiveAddPackModal={setActiveAddPackModal}/>\r\n            </div> : <>\r\n            <div>\"you are not authorized\"</div>\r\n            <NavLink to={PATH.LOGIN} activeClassName={s.activeLink}>{\"LOGIN >>> >>> >>> \"}</NavLink>\r\n                </>}\r\n\r\n            {cardPacks.map(pack =>\r\n                <Pack key={pack._id} pack={pack}\r\n                      activeModal={props.activeModal} setActiveModal={props.setActiveModal}/>\r\n            )}\r\n\r\n            <Paginator currentPage={page} pageSize={pageCount} totalItemsCount={totalPacksCount} portionSize={10}\r\n                       onPageChanged={onPageChanged}/>\r\n\r\n            <Modal activeModal={activeAddPackModal} setActiveModal={setActiveAddPackModal}>\r\n                <AddForm addItem={addPack} buttonName={\"ADD PACK\"} itemName={\"pack name\"}\r\n                         text={\"enter the name of the new pack\"}/>\r\n            </Modal>\r\n\r\n        </div>\r\n    )\r\n}\r\n\r\n\r\n","import React from 'react'\r\nimport {useFormik} from 'formik'\r\nimport SuperInput from \"../../SuperInput/SuperInput\";\r\nimport SuperButton from \"../../SuperButton/SuperButton\";\r\n\r\nexport type valueType = { question: string, answer: string }\r\ntype AddCardFormPropsType = {\r\n\r\n    addCard: (value: valueType) => void\r\n    text?: string\r\n}\r\nexport const AddCardForm = React.memo((props: AddCardFormPropsType\r\n) => {\r\n\r\n    const formik = useFormik({\r\n        initialValues: {\r\n            question: \"\",\r\n            answer: \"\",\r\n        },\r\n        validate: (values) => {\r\n            const errors: FormikErrorType = {};\r\n            if (!values.question) {\r\n                errors.question = \"Required field\"\r\n            }\r\n            if (!values.answer) {\r\n                errors.answer = \"Required field\"\r\n            }\r\n\r\n            return errors;\r\n        },\r\n        onSubmit: values => {\r\n            formik.resetForm()\r\n            props.addCard(values)\r\n        },\r\n    })\r\n\r\n    return (\r\n        <div>\r\n            <div>{props.text}</div>\r\n            <form onSubmit={formik.handleSubmit}>\r\n                <div><SuperInput name=\"question\" onChange={formik.handleChange} onBlur={formik.handleBlur} type=\"text\"\r\n                                 value={formik.values.question} placeholder={\"question\"}/></div>\r\n                {formik.touched.question && formik.errors.question ?\r\n                    <div style={{color: \"red\"}}> {formik.errors.question} </div> : null}\r\n                <div><SuperInput name=\"answer\" onChange={formik.handleChange} onBlur={formik.handleBlur}\r\n                                 type=\"answer\" value={formik.values.answer} placeholder={\"answer\"}/></div>\r\n                {formik.touched.answer && formik.errors.answer ?\r\n                    <div style={{color: \"red\"}}> {formik.errors.answer} </div> : null}\r\n\r\n                <div><SuperButton type=\"submit\" name=\"ADD\"/></div>\r\n            </form>\r\n        </div>\r\n    )\r\n})\r\n\r\ntype FormikErrorType = {\r\n    question?: string\r\n    answer?: string\r\n\r\n}","import React from 'react'\r\nimport s from '../../../f5-packs/Packs.module.css'\r\nimport {useSelector} from \"react-redux\";\r\nimport {AppRootStateType} from \"../../../../n1-main/m2-bll/store\";\r\nimport {RequestStatusType} from \"../../../../n1-main/m2-bll/app-reduser\";\r\nimport SuperButton from \"../../../../n1-main/m1-ui/common/SuperButton/SuperButton\";\r\nimport {CardType} from \"../../Cards-reducer\";\r\n\r\n\r\ntype ActiveColumnCardType = {\r\n    card: CardType\r\n    setActiveDelCardModal: (activeModal: boolean) => void\r\n    setActiveAddCardModal: (activeModal: boolean) => void\r\n    additionalColumn?: boolean\r\n}\r\nexport const ActiveColumnCard = (props: ActiveColumnCardType) => {\r\n\r\n    const registerUserId = useSelector<AppRootStateType, string>(state => state.app.UserData ? state.app.UserData._id : \"\")\r\n    const status = useSelector<AppRootStateType, RequestStatusType>(state => state.app.status)\r\n    const isMyPack = (props.card.user_id === registerUserId) && !(status === 'loading')\r\n\r\n    return (\r\n        <div className={s.tableString}>\r\n            {props.additionalColumn && <div className={s.tableColumnTitle}>\r\n                <h2>updated</h2>\r\n            </div>}\r\n            <div>{props.card.updated.slice(0, 10)}</div>\r\n            <div><SuperButton disabled={!isMyPack} onClick={() => {\r\n                props.setActiveDelCardModal(true)\r\n            }} name={\"del\"}/></div>\r\n\r\n            <div>\r\n                <SuperButton disabled={!isMyPack} onClick={() => props.setActiveAddCardModal(true)} name={\"update\"}/>\r\n            </div>\r\n\r\n        </div>\r\n    )\r\n}\r\n","import React, {useState} from 'react'\r\nimport s from '../../f5-packs/Packs.module.css'\r\nimport {useDispatch, useSelector} from \"react-redux\";\r\nimport {AppRootStateType} from \"../../../n1-main/m2-bll/store\";\r\nimport {CardType, removeCardTC, updateCardTC} from \"../Cards-reducer\";\r\nimport {RequestStatusType} from \"../../../n1-main/m2-bll/app-reduser\";\r\nimport SuperButton from \"../../../n1-main/m1-ui/common/SuperButton/SuperButton\";\r\nimport {Modal} from \"../../../n1-main/m1-ui/common/Modal/Modal\";\r\nimport {BooleanForm} from \"../../../n1-main/m1-ui/common/Modal/BooleanModal/BooleanForm\";\r\nimport {AddCardForm, valueType} from \"../../../n1-main/m1-ui/common/Modal/AddCardForm/AddCardForm\";\r\nimport {ActiveColumnCard} from \"./activeColumnCard/activeColumnCard\";\r\n\r\ntype cardPropsType = {\r\n    card: CardType\r\n}\r\nexport const Card = (props: cardPropsType) => {\r\n    const card = props.card\r\n    const dispatch = useDispatch()\r\n    const registerUserId = useSelector<AppRootStateType, string>(state => state.app.UserData ? state.app.UserData._id : \"\")\r\n    const status = useSelector<AppRootStateType, RequestStatusType>(state => state.app.status)\r\n    const [isActiveColumnPack, setIsActiveColumnPack] = useState<boolean>(false)\r\n    const [activeAddCardModal, setActiveAddCardModal] = useState<boolean>(false)\r\n    const [activeDelPackModal, setActiveDelCardModal] = useState<boolean>(false)\r\n\r\n    const isMyPack = (card.user_id === registerUserId) && !(status === 'loading')\r\n\r\n    const removeCard = (isDel: boolean) => {\r\n        setActiveDelCardModal(false)\r\n        isDel && dispatch(removeCardTC(card.cardsPack_id, card._id))\r\n    }\r\n    const updatedCard = (value: valueType) => {\r\n        setActiveAddCardModal(false)\r\n        dispatch(updateCardTC(card._id, value))\r\n    }\r\n    const showActiveColumnPack = () => {\r\n        setIsActiveColumnPack(!isActiveColumnPack)\r\n    }\r\n    const nameBtn = isActiveColumnPack ? \"<<<\" : \">>>\"\r\n    return (\r\n        <div>\r\n            <div className={s.tableString}>\r\n                <div>{card.question}</div>\r\n                <div>{card.answer}</div>\r\n                <div>{card.grade}</div>\r\n\r\n                <div className={s.ActiveColumnPack3}><SuperButton onClick={() => showActiveColumnPack()}\r\n                                                                  name={nameBtn}/></div>\r\n                <span className={s.ActiveColumnPack}>\r\n                    <ActiveColumnCard card={card} setActiveAddCardModal={setActiveAddCardModal}\r\n                                      setActiveDelCardModal={setActiveDelCardModal}/>\r\n\r\n           </span>\r\n            </div>\r\n\r\n            <span className={s.ActiveColumnPack2}>\r\n                {isActiveColumnPack && <ActiveColumnCard card={card} setActiveAddCardModal={setActiveAddCardModal}\r\n                                                         setActiveDelCardModal={setActiveDelCardModal}\r\n                                                         additionalColumn={true}\r\n                />}\r\n            </span>\r\n\r\n\r\n            <Modal activeModal={activeDelPackModal} setActiveModal={setActiveDelCardModal}>\r\n                <BooleanForm question={`you want to remove the card with the question: \"${card.question}\"`}\r\n                             push={removeCard}/>\r\n            </Modal>\r\n            <Modal activeModal={activeAddCardModal} setActiveModal={setActiveAddCardModal}>\r\n                <AddCardForm addCard={updatedCard} text={\"Enter new question and new answer\"}/>\r\n            </Modal>\r\n        </div>\r\n    )\r\n}\r\n","import React from 'react'\r\nimport s from './SortButtons.module.css'\r\nimport {FontAwesomeIcon} from \"@fortawesome/react-fontawesome\"\r\nimport {faSortDown, faSortUp} from '@fortawesome/free-solid-svg-icons'\r\nimport {useDispatch} from 'react-redux'\r\nimport {getCardTC, setPaginationCardAC} from \"../../../../n2-features/f6-cards/Cards-reducer\";\r\n\r\nexport const SortCardButton = (props: { param: string }) => {\r\n    const dispatch = useDispatch()\r\n\r\n    const sortUp = (param: string) => {\r\n        dispatch(setPaginationCardAC({sortCards: `1` + param}))\r\n        dispatch(getCardTC())\r\n    }\r\n    const sortDown = (param: string) => {\r\n        dispatch(setPaginationCardAC({sortCards: `0` + param}))\r\n        dispatch(getCardTC())\r\n    }\r\n    return <div className={s.tableSortIcons}>\r\n        <a type=\"submit\" onClick={() => sortUp(props.param)}><FontAwesomeIcon icon={faSortUp} size=\"1x\"/></a>\r\n        <a type=\"submit\" onClick={() => sortDown(props.param)}><FontAwesomeIcon icon={faSortDown} size=\"1x\"/></a>\r\n    </div>\r\n}","import React from 'react'\r\n\r\nimport s from '../../f5-packs/pack/headings/Headings.module.css'\r\nimport {SortCardButton} from \"../../../n1-main/m1-ui/common/SortButtons/SortCardButton\";\r\nimport SuperButton from \"../../../n1-main/m1-ui/common/SuperButton/SuperButton\";\r\n\r\ntype CardsHeadingsPropsType = {\r\n    setActiveAddCardModal: (value: boolean) => void\r\n    isMyPack: boolean\r\n}\r\nexport const CardsHeadings = (props: CardsHeadingsPropsType) => {\r\n\r\n    return (\r\n        < >\r\n            <div className={s.tableColumnTitle}>\r\n                <h2>question</h2>\r\n                <SortCardButton param=\"question\"/>\r\n            </div>\r\n\r\n            <div className={s.tableColumnTitle}>\r\n                <h2>answer</h2>\r\n                <SortCardButton param=\"answer\"/>\r\n            </div>\r\n\r\n            <div className={s.tableColumnTitle}>\r\n                <h2>grade</h2>\r\n                <SortCardButton param=\"grade\"/>\r\n            </div>\r\n\r\n            <div className={s.tableColumnTitleHide}>\r\n                <h2>updated</h2>\r\n            </div>\r\n\r\n            <div>\r\n                <SuperButton onClick={() => {\r\n                    props.setActiveAddCardModal(true)\r\n                }} disabled={!props.isMyPack} name={\"add\"}/>\r\n            </div>\r\n            <div className={s.tableColumnTitleHide}></div>\r\n        </>\r\n\r\n\r\n    )\r\n}\r\n","import React, {useEffect, useState} from 'react'\r\nimport {useDispatch, useSelector} from \"react-redux\";\r\nimport {AppRootStateType} from \"../../n1-main/m2-bll/store\";\r\nimport {RequestStatusType, UserDataType} from \"../../n1-main/m2-bll/app-reduser\";\r\nimport {NavLink, Redirect, useParams} from \"react-router-dom\";\r\nimport s from \"../f5-packs/Packs.module.css\";\r\nimport {addCardTC, CardType, getCardTC, paginationCardsType, setPaginationCardAC} from \"./Cards-reducer\";\r\nimport {Card} from \"./card/Card\";\r\nimport {PackType} from \"../f5-packs/Packs-reduser\";\r\nimport {Paginator} from \"../../n1-main/m1-ui/common/Paginator/Paginator\";\r\nimport {Modal} from '../../n1-main/m1-ui/common/Modal/Modal'\r\nimport {PATH} from \"../../n1-main/m1-ui/routes/Routes\";\r\nimport {AddCardForm, valueType} from \"../../n1-main/m1-ui/common/Modal/AddCardForm/AddCardForm\";\r\nimport {CardsHeadings} from \"./cardsHeading/CardsHeadings\";\r\nimport SuperButton from \"../../n1-main/m1-ui/common/SuperButton/SuperButton\";\r\n\r\n\r\nexport const Cards = () => {\r\n\r\n    const dispatch = useDispatch()\r\n\r\n    const UserData = useSelector<AppRootStateType, UserDataType | null>(state => state.app.UserData)\r\n    const status = useSelector<AppRootStateType, RequestStatusType>(state => state.app.status)\r\n    const registerUserId = useSelector<AppRootStateType, string>(state => state.app.UserData ? state.app.UserData._id : \"\")\r\n    const isLoggedIn = useSelector<AppRootStateType, boolean>(state => state.auth.isLoggedIn)\r\n    const packs = useSelector<AppRootStateType, Array<PackType>>(state => state.packs.cardPacks)\r\n    const {paginationCards, totalCardsCount, cards} = useSelector<AppRootStateType,\r\n        { paginationCards: paginationCardsType, totalCardsCount: number, cards: Array<CardType> }>(state => state.cards)\r\n    const {page, pageCount} = paginationCards\r\n\r\n    const [activeAddCardModal, setActiveAddCardModal] = useState<boolean>(false)\r\n\r\n    const {token} = useParams<{ token: string }>()\r\n\r\n    const pack = packs.find(p => p._id === token)\r\n    const createdUserId = pack ? pack.user_id : registerUserId\r\n    const isMyPack = (createdUserId === registerUserId) && !(status === 'loading')\r\n\r\n\r\n    useEffect(() => {\r\n        if (isLoggedIn && token) {\r\n            dispatch(setPaginationCardAC({cardsPack_id: token}))\r\n            dispatch(getCardTC())\r\n        }\r\n    }, [isLoggedIn, token])\r\n\r\n    const addCard = (value: valueType) => {\r\n        dispatch(addCardTC(token, value))\r\n        setActiveAddCardModal(false)\r\n    }\r\n\r\n    const onPageChanged = (newNumber: number) => {\r\n        dispatch(setPaginationCardAC({page: newNumber}))\r\n        dispatch(getCardTC())\r\n    }\r\n\r\n    const redirectPacks = () => <Redirect to={PATH.PACK}/>\r\n    if (!UserData) {\r\n        return <Redirect to={PATH.LOGIN}/>\r\n    }\r\n\r\n\r\n    return (\r\n\r\n        <div className={s.table}>\r\n            <h1>Cards</h1>\r\n            {token && (cards.length > 0) &&\r\n            <h2><NavLink to={`${PATH.LEARN}/${token}`} activeClassName={s.activeLink}>Learn</NavLink></h2>}\r\n\r\n            {token ? <div className={s.tableString}>\r\n                {isLoggedIn ? <CardsHeadings setActiveAddCardModal={setActiveAddCardModal}\r\n                               isMyPack={isMyPack}/>:<>\r\n                    <div className={s.notAuthorized}>\"you are not authorized\"</div>\r\n                    <NavLink to={PATH.LOGIN} activeClassName={s.activeLink}>{\"LOGIN >>> \"}</NavLink>\r\n                </>}\r\n\r\n            </div> :<><h3>\"НЕОБХОДИМО ВЫБРАТЬ КОЛОДУ\"</h3> < SuperButton onClick={redirectPacks} name=\">>> Packs\"/></>}\r\n\r\n            {token ? cards.map(card =>\r\n                <Card key={card._id} card={card}/>\r\n            ) : <div></div>}\r\n\r\n            <div>\r\n                {token && (cards.length > 0) &&\r\n                <Paginator currentPage={page} pageSize={pageCount} totalItemsCount={totalCardsCount} portionSize={3}\r\n                           onPageChanged={onPageChanged}/>}\r\n            </div>\r\n\r\n            <Modal activeModal={activeAddCardModal} setActiveModal={setActiveAddCardModal}>\r\n                <AddCardForm addCard={addCard} text={\"Enter question and answer of new card\"}/>\r\n            </Modal>\r\n        </div>\r\n    )\r\n}\r\n\r\n\r\n","import React, {useEffect, useState} from 'react'\r\nimport {useDispatch, useSelector} from \"react-redux\";\r\nimport {Redirect, useParams} from \"react-router-dom\";\r\nimport {AppRootStateType} from \"../../n1-main/m2-bll/store\";\r\nimport {UserDataType} from \"../../n1-main/m2-bll/app-reduser\";\r\nimport {CardType, getCardTC, gradeCardTC, setPaginationCardAC} from \"../f6-cards/Cards-reducer\";\r\nimport SuperButton from \"../../n1-main/m1-ui/common/SuperButton/SuperButton\";\r\nimport s from './Learn.module.css'\r\nimport {PATH} from \"../../n1-main/m1-ui/routes/Routes\";\r\n\r\n\r\ntype LearnPropsType = {}\r\nexport const Learn = (props: LearnPropsType) => {\r\n    const dispatch = useDispatch()\r\n    const {token} = useParams<{ token: string }>()\r\n    const cards = useSelector<AppRootStateType, Array<CardType>>(state => state.cards.cards)\r\n    const UserData = useSelector<AppRootStateType, UserDataType | null>(state => state.app.UserData)\r\n    const isLoggedIn = useSelector<AppRootStateType, boolean>(state => state.auth.isLoggedIn)\r\n    const [isChecked, setIsChecked] = useState<boolean>(false)\r\n    const [first, setFirst] = useState<boolean>(true)\r\n    const [card, setCard] = useState<CardType | null>(null)\r\n\r\n\r\n    const getCard = (cards: CardType[]) => {\r\n        const sum = cards.reduce((acc, card) => acc + (6 - card.grade) ** 2, 0);\r\n        const rand = Math.random() * sum;\r\n        const res = cards.reduce((acc: { sum: number, id: number }, card, i) => {\r\n                const newSum = acc.sum + (6 - card.grade) ** 2;\r\n                return {sum: newSum, id: newSum < rand ? i : acc.id}\r\n            }\r\n            , {sum: 0, id: -1});\r\n\r\n        return cards[res.id + 1];\r\n    }\r\n\r\n    const grades = ['не знал', 'забыл', 'долго думал', 'перепутал', 'знал'];\r\n\r\n    useEffect(() => {\r\n        if (first && token && isLoggedIn) {\r\n            dispatch(setPaginationCardAC({cardsPack_id: token}))\r\n            dispatch(getCardTC())\r\n            setFirst(false);\r\n        }\r\n        if (cards.length > 0) setCard(getCard(cards));\r\n    }, [dispatch, token, cards, first, isLoggedIn])\r\n\r\n    const onNext = () => {\r\n        setIsChecked(false);\r\n        if (cards.length > 0) {\r\n            setCard(getCard(cards));\r\n        } else {\r\n\r\n        }\r\n    }\r\n    const setGrade = (i: number) => {\r\n        dispatch(gradeCardTC(i + 1, card ? card._id : \"\"))\r\n        setCard(getCard(cards))\r\n        setIsChecked(false);\r\n\r\n        if (cards.length > 0) {\r\n            setCard(getCard(cards));\r\n        }\r\n\r\n    }\r\n    const redirectPacks = () => <Redirect to={PATH.PACK}/>\r\n    if (!UserData) {\r\n        return <Redirect to={PATH.LOGIN}/>\r\n    }                                            // при logOut с этой страницы перебрасывает на стр. Логин\r\n\r\n    return (\r\n        <div className={s.page}>\r\n            <h1>LearnPage</h1>\r\n\r\n\r\n            {token ? <div>\r\n                <div className={s.card}>\r\n                    <h2>QUESTION:</h2>\r\n                    <div className={s.cardQuestion}>  {card ? card.question : \"\"}     </div>\r\n                </div>\r\n                <div>\r\n                    <SuperButton name={\"check\"} onClick={() => setIsChecked(true)}/>\r\n                </div>\r\n            </div> :<><h3>\"НЕОБХОДИМО ВЫБРАТЬ КОЛОДУ\"</h3> < SuperButton onClick={redirectPacks} name=\">>> Packs\"/></>}\r\n\r\n            {isChecked && (\r\n                <>\r\n                    <div className={s.card}>\r\n                        <h2>ANSWER:</h2>\r\n                        <div className={s.cardAnswer}>  {card ? card.answer : \"\"}</div>\r\n                    </div>\r\n\r\n                    {grades.map((g, i) => (\r\n                        <SuperButton name={g} key={'grade-' + i} onClick={() => setGrade(i)}/>\r\n                    ))}\r\n\r\n                    <div><SuperButton name={\"next\"} onClick={onNext}/></div>\r\n                </>\r\n            )}\r\n        </div>\r\n\r\n    )\r\n}\r\n","import React, {useState} from 'react'\r\nimport {Redirect, Route, Switch} from \"react-router-dom\";\r\nimport {Error404} from \"../../../n2-features/f4-404/Error404\";\r\nimport {Test} from \"../../../n2-features/f0-test/test\";\r\nimport {Login} from \"../../../n2-features/f1-auth/a1-login/LoginFormik\";\r\nimport {Register} from \"../../../n2-features/f1-auth/a2-register/Register\";\r\nimport {RecoveryPassword} from \"../../../n2-features/f1-auth/a3-recoveryPassword/RecoveryPassword\";\r\nimport {Profile} from \"../../../n2-features/f2-profile/Profile\";\r\nimport {NewPassword} from \"../../../n2-features/f1-auth/a4-newPassword/NewPassword\";\r\nimport { Packs } from '../../../n2-features/f5-packs/Packs';\r\nimport {Cards} from \"../../../n2-features/f6-cards/Cards\";\r\nimport {Learn} from \"../../../n2-features/f6-learn/Learn\";\r\n\r\n\r\nexport const PATH = {\r\n    HOME: \"/home\",\r\n    TEST: \"/test\",\r\n    LOGIN: \"/login\",\r\n    REGISTER: \"/register\",\r\n    RECOVERY_PASSWORD: \"/recovery-password\",\r\n    NEW_PASSWORD: \"/new-password\",\r\n    PROFILE: \"/profile\",\r\n    PACK: \"/packs\",\r\n    CARDS: \"/cards\",\r\n    LEARN:\"/learn\"\r\n}\r\n\r\nexport const Routes = () => {\r\n    let [activeModal, setActiveModal] = useState<boolean>(false) \r\n    return (\r\n        <div>\r\n\r\n            <Switch>\r\n\r\n                <Route path={\"/\"} exact render={() => <Redirect to={PATH.PROFILE}/>}/>\r\n                <Route path={PATH.TEST} render={() => <Test/>}/>\r\n                <Route path={PATH.LOGIN} render={() => <Login/>}/>\r\n                <Route path={PATH.REGISTER} render={() => <Register/>}/>\r\n                <Route path={PATH.RECOVERY_PASSWORD} render={() => <RecoveryPassword/>}/>\r\n                <Route path={`${PATH.NEW_PASSWORD}/:token`} render={() => <NewPassword/> }/>\r\n                <Route path={PATH.NEW_PASSWORD} exact render={ () => <RecoveryPassword/>}/>\r\n                <Route path={PATH.PROFILE} render={() => <Profile/>}/>\r\n                <Route path={PATH.PACK} render={() => <Packs activeModal={activeModal} setActiveModal={setActiveModal}/>}/>\r\n                <Route path={`${PATH.CARDS}/:token`} render={() => <Cards/>}/>\r\n                <Route path={PATH.CARDS} render={() => <Cards/>}/>\r\n                <Route path={`${PATH.LEARN}/:token`} render={() => <Learn/>}/>\r\n                <Route path={PATH.LEARN} render={() => <Learn/>}/>\r\n                <Route render={() => <Error404/>}/>\r\n\r\n            </Switch>\r\n        </div>\r\n    )\r\n}","import style from './ErrorSnackBar.module.css'\r\nimport {useDispatch} from \"react-redux\";\r\nimport {setAppErrorAC} from \"../../../m2-bll/app-reduser\";\r\n\r\ntype ErrorSnackBarPropsType = {\r\n    errorMessage: string\r\n}\r\n\r\nexport const ErrorSnackBar = (props: ErrorSnackBarPropsType) => {\r\n    const dispatch = useDispatch()\r\n\r\n    const onClickHandler = () => dispatch(setAppErrorAC(null))\r\n\r\n    return (\r\n        <div className={style.notification}>\r\n        <div className={style.text}> {props.errorMessage} </div>\r\n        <div className={`${style.close}`}>\r\n            <div className={style.text} onClick={onClickHandler}>X</div>\r\n        </div>\r\n    </div>)\r\n};\r\n\r\n","import React from 'react'\r\nimport {NavLink} from \"react-router-dom\";\r\nimport s from \"./AuthorizedNav.module.css\"\r\nimport {PATH} from \"../../routes/Routes\";\r\n\r\ntype AuthorizedNavPropsType = {\r\n    burgerNav?: boolean\r\n}\r\nexport const NotAuthorizedNav = (props: AuthorizedNavPropsType) => {\r\n\r\n    return (\r\n        <div className={props.burgerNav ? s.burger : s.NANav}>\r\n           <span>\r\n                <NavLink to={PATH.LOGIN} activeClassName={s.activeLink}>LOGIN</NavLink>\r\n            </span>\r\n            <span>\r\n                <NavLink to={PATH.REGISTER} activeClassName={s.activeLink}>REGISTER</NavLink>\r\n            </span>\r\n        </div>\r\n\r\n    )\r\n}","import React from 'react'\r\nimport {NavLink} from \"react-router-dom\";\r\nimport s from \"./AuthorizedNav.module.css\"\r\nimport {PATH} from \"../../routes/Routes\";\r\ntype AuthorizedNavPropsType ={\r\n    burgerNav?:boolean\r\n}\r\nexport const    AuthorizedNav = (props:AuthorizedNavPropsType) => {\r\n\r\n    return (\r\n        <div className={props.burgerNav? s.burger:s.nav}>\r\n\r\n            <span>\r\n                <NavLink to={PATH.PROFILE} activeClassName={s.activeLink}>PROFILE</NavLink>\r\n            </span>\r\n            <span>\r\n                <NavLink to={PATH.PACK} activeClassName={s.activeLink}>PACKS</NavLink>\r\n            </span>\r\n            <span>\r\n                <NavLink to={PATH.CARDS} activeClassName={s.activeLink}>CARDS</NavLink>\r\n            </span>\r\n            <span>\r\n                <NavLink to={PATH.LEARN} activeClassName={s.activeLink}>LEARN</NavLink>\r\n            </span>\r\n\r\n        </div>\r\n\r\n    )\r\n}","import React from 'react'\r\nimport s from \"./nav.module.css\"\r\nimport {useDispatch, useSelector} from \"react-redux\";\r\nimport {AppRootStateType} from \"../../../m2-bll/store\";\r\nimport SuperButton from \"../../common/SuperButton/SuperButton\";\r\nimport {logout} from \"../../../../n2-features/f1-auth/auth-reducer\";\r\nimport {NotAuthorizedNav} from \"../authorizedNav/NotAuthorizedNav\";\r\nimport {AuthorizedNav} from \"../authorizedNav/AuthorizedNav\";\r\n\r\nexport const Nav = () => {\r\n    const dispatch = useDispatch()\r\n    const isLoggedIn = useSelector<AppRootStateType, boolean>(state => state.auth.isLoggedIn)\r\n    const UserName = useSelector<AppRootStateType, string | null>(state => state.app.UserData ? state.app.UserData.name : null)\r\n    const logoutOnClick = () => {\r\n        dispatch(logout())\r\n    }\r\n    return (\r\n\r\n        <div className={s.nav}>\r\n\r\n            {!isLoggedIn && <NotAuthorizedNav/>}\r\n            {isLoggedIn && <> <AuthorizedNav/>\r\n                <span> < SuperButton onClick={logoutOnClick} name=\"Logout\"/> </span>\r\n                <span className={s.userName}> {UserName} </span>\r\n            </>}\r\n        </div>\r\n\r\n\r\n    )\r\n}","import React, {useState} from 'react'\r\nimport s from \"./burgerNav.module.css\"\r\nimport {useDispatch, useSelector} from \"react-redux\";\r\nimport {AppRootStateType} from \"../../../m2-bll/store\";\r\nimport SuperButton from \"../../common/SuperButton/SuperButton\";\r\nimport {logout} from \"../../../../n2-features/f1-auth/auth-reducer\";\r\nimport {AuthorizedNav} from \"../authorizedNav/AuthorizedNav\";\r\nimport {NotAuthorizedNav} from \"../authorizedNav/NotAuthorizedNav\";\r\nimport {RequestStatusType} from \"../../../m2-bll/app-reduser\";\r\n\r\n\r\nexport const BurgerNav = () => {\r\n    const dispatch = useDispatch()\r\n    const isLoggedIn = useSelector<AppRootStateType, boolean>(state => state.auth.isLoggedIn)\r\n    const status = useSelector<AppRootStateType, RequestStatusType>(state => state.app.status)\r\n    const isLoading = status === 'loading'\r\n    const logoutOnClick = () => {\r\n        dispatch(logout())\r\n    }\r\n    let [menuIsOpen, setMenuIsOpen] = useState(false)\r\n    const setMenu = () => setMenuIsOpen(!menuIsOpen)\r\n    const btnName = menuIsOpen ? \"Close\" : \"Menu\"\r\n\r\n    return ( <div  className={s.burgerNav}>\r\n       {isLoggedIn &&\r\n            < SuperButton disabled={isLoading} onClick={logoutOnClick} name=\"logout\"/>\r\n            }\r\n\r\n            {menuIsOpen && <div className={s.nav}>\r\n                {!isLoggedIn && <NotAuthorizedNav burgerNav={true}/>}\r\n                {isLoggedIn && <AuthorizedNav burgerNav={true}/>}\r\n            </div>}\r\n\r\n            <div className={s.positionBtn}>\r\n                <SuperButton  name={btnName} onClick={setMenu}/>\r\n            </div>\r\n        </div>\r\n    )\r\n}","import React from 'react'\r\nimport s from \"./Header.module.css\"\r\nimport {Nav} from \"./nav/nav\";\r\nimport {FontAwesomeIcon} from \"@fortawesome/react-fontawesome\";\r\nimport {faDAndD} from \"@fortawesome/free-brands-svg-icons\"\r\nimport {BurgerNav} from \"./burgerNav/burgerNav\";\r\n\r\n\r\nexport const Header = () => {\r\n\r\n    return (\r\n        <div className={s.header}>\r\n\r\n            <FontAwesomeIcon icon={faDAndD} size=\"4x\"/>\r\n            <Nav/>\r\n            <BurgerNav/>\r\n        </div>\r\n    )\r\n}\r\n\r\n\r\n","import React, {useEffect, useState} from 'react';\r\nimport './App.css';\r\nimport {HashRouter} from \"react-router-dom\";\r\nimport {useDispatch, useSelector} from 'react-redux';\r\nimport {AppRootStateType} from \"../m2-bll/store\";\r\nimport {RequestStatusType} from \"../m2-bll/app-reduser\";\r\nimport Preloader from \"./common/Preloder/Preloader\";\r\nimport {Routes} from \"./routes/Routes\";\r\nimport {ErrorSnackBar} from \"./common/ErrorSnackBar/ErrorSnackBar\";\r\nimport {Header} from \"./header/Header\";\r\n\r\nimport {getMe, setIsLoggedIn} from \"../../n2-features/f1-auth/auth-reducer\";\r\n\r\n\r\nfunction App() {\r\n    const dispatch = useDispatch()\r\n    const status = useSelector<AppRootStateType, RequestStatusType>(state => state.app.status)\r\n    const error = useSelector<AppRootStateType, string | null>(state => state.app.error)\r\n    let [firstRendering, setFirstRendering] = useState<boolean>(true)\r\n\r\n    useEffect(() => {\r\n        if (firstRendering) {\r\n            dispatch(setIsLoggedIn(false))\r\n            dispatch(getMe())\r\n\r\n        }\r\n    }, [])\r\n\r\n    return (\r\n        <div>\r\n            <HashRouter>\r\n                <Header/>\r\n                {status === 'loading' && <Preloader/>}\r\n                <Routes/>\r\n                {error && <ErrorSnackBar errorMessage={error}/>}\r\n            </HashRouter>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default App;","import { ReportHandler } from 'web-vitals';\n\nconst reportWebVitals = (onPerfEntry?: ReportHandler) => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import {applyMiddleware, combineReducers, createStore} from 'redux'\r\nimport thunkMiddleware from 'redux-thunk'\r\nimport {packsReducer} from \"../../n2-features/f5-packs/Packs-reduser\";\r\nimport {appReducer} from \"./app-reduser\";\r\nimport {cardsReducer} from \"../../n2-features/f6-cards/Cards-reducer\";\r\nimport {authReducer} from \"../../n2-features/f1-auth/auth-reducer\";\r\n\r\n\r\nconst rootReducer = combineReducers({\r\n    auth:authReducer,\r\n    app:appReducer,\r\n    packs:packsReducer,\r\n    cards: cardsReducer\r\n\r\n})\r\n\r\nexport const store = createStore(rootReducer, applyMiddleware(thunkMiddleware));\r\n\r\nexport type AppRootStateType = ReturnType<typeof rootReducer>\r\n\r\n\r\n// @ts-ignore\r\nwindow.store = store;\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport App from './n1-main/m1-ui/App';\r\nimport reportWebVitals from './reportWebVitals';\r\nimport {store} from \"./n1-main/m2-bll/store\";\r\nimport {Provider} from \"react-redux\";\r\n\r\nReactDOM.render(\r\n    <React.StrictMode>\r\n        <Provider store={store}>\r\n            <App/>\r\n        </Provider>\r\n    </React.StrictMode>,\r\n    document.getElementById('root')\r\n);\r\n// If you want to start measuring performance in your app, pass a function\r\n// to log results (for example: reportWebVitals(console.log))\r\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\r\nreportWebVitals();\r\n"],"sourceRoot":""}